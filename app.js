!function(e){function t(){return"Markdown.mk_block( "+uneval(this.toString())+", "+uneval(this.trailing)+", "+uneval(this.lineNumber)+" )"}function r(){var e=require("util");return"Markdown.mk_block( "+e.inspect(this.toString())+", "+e.inspect(this.trailing)+", "+e.inspect(this.lineNumber)+" )"}function n(e){for(var t=0,r=-1;-1!==(r=e.indexOf("\n",r+1));)t++;return t}function i(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function l(e){if("string"==typeof e)return i(e);var t=e.shift(),r={},n=[];for(!e.length||"object"!=typeof e[0]||e[0]instanceof Array||(r=e.shift());e.length;)n.push(l(e.shift()));var a="";for(var s in r)a+=" "+s+'="'+i(r[s])+'"';return"img"===t||"br"===t||"hr"===t?"<"+t+a+"/>":"<"+t+a+">"+n.join("")+"</"+t+">"}function a(e,t,r){var n;r=r||{};var i=e.slice(0);"function"==typeof r.preprocessTreeNode&&(i=r.preprocessTreeNode(i,t));var l=g(i);if(l){i[1]={};for(n in l)i[1][n]=l[n];l=i[1]}if("string"==typeof i)return i;switch(i[0]){case"header":i[0]="h"+i[1].level,delete i[1].level;break;case"bulletlist":i[0]="ul";break;case"numberlist":i[0]="ol";break;case"listitem":i[0]="li";break;case"para":i[0]="p";break;case"markdown":i[0]="html",l&&delete l.references;break;case"code_block":i[0]="pre",n=l?2:1;var s=["code"];s.push.apply(s,i.splice(n,i.length-n)),i[n]=s;break;case"inlinecode":i[0]="code";break;case"img":i[1].src=i[1].href,delete i[1].href;break;case"linebreak":i[0]="br";break;case"link":i[0]="a";break;case"link_ref":i[0]="a";var c=t[l.ref];if(!c)return l.original;delete l.ref,l.href=c.href,c.title&&(l.title=c.title),delete l.original;break;case"img_ref":i[0]="img";var c=t[l.ref];if(!c)return l.original;delete l.ref,l.src=c.href,c.title&&(l.title=c.title),delete l.original}if(n=1,l){for(var o in i[1]){n=2;break}1===n&&i.splice(n,1)}for(;n<i.length;++n)i[n]=a(i[n],t,r);return i}function s(e){for(var t=g(e)?2:1;t<e.length;)"string"==typeof e[t]?t+1<e.length&&"string"==typeof e[t+1]?e[t]+=e.splice(t+1,1)[0]:++t:(s(e[t]),++t)}function c(e,t){function r(e){this.len_after=e,this.name="close_"+t}var n=e+"_state",i="strong"===e?"em_state":"strong_state";return function(l){if(this[n][0]===t)return this[n].shift(),[l.length,new r(l.length-t.length)];var a=this[i].slice(),s=this[n].slice();this[n].unshift(t);var c=this.processInline(l.substr(t.length)),o=c[c.length-1];this[n].shift();if(o instanceof r){c.pop();var h=l.length-o.len_after;return[h,[e].concat(c)]}return this[i]=a,this[n]=s,[t.length,t]}}function o(e){for(var t=e.split(""),r=[""],n=!1;t.length;){var i=t.shift();switch(i){case" ":n?r[r.length-1]+=i:r.push("");break;case"'":case'"':n=!n;break;case"\\":i=t.shift();default:r[r.length-1]+=i}}return r}var h={};h.mk_block=function(e,n,i){1===arguments.length&&(n="\n\n");var l=new String(e);return l.trailing=n,l.inspect=r,l.toSource=t,void 0!==i&&(l.lineNumber=i),l};var u=h.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};Array.prototype.forEach?h.forEach=function(e,t,r){return e.forEach(t,r)}:h.forEach=function(e,t,r){for(var n=0;n<e.length;n++)t.call(r||e,e[n],n,e)},h.isEmpty=function(e){for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0},h.extract_attr=function(e){return u(e)&&e.length>1&&"object"==typeof e[1]&&!u(e[1])?e[1]:void 0};var f=function(e){switch(typeof e){case"undefined":this.dialect=f.dialects.Gruber;break;case"object":this.dialect=e;break;default:if(!(e in f.dialects))throw new Error("Unknown Markdown dialect '"+String(e)+"'");this.dialect=f.dialects[e]}this.em_state=[],this.strong_state=[],this.debug_indent=""};f.dialects={};var p=f.mk_block=h.mk_block,u=h.isArray;f.parse=function(e,t){var r=new f(t);return r.toTree(e)},f.prototype.split_blocks=function(e){e=e.replace(/(\r\n|\n|\r)/g,"\n");var t,r=/([\s\S]+?)($|\n#|\n(?:\s*\n|$)+)/g,i=[],l=1;for(null!==(t=/^(\s*\n)/.exec(e))&&(l+=n(t[0]),r.lastIndex=t[0].length);null!==(t=r.exec(e));)"\n#"===t[2]&&(t[2]="\n",r.lastIndex--),i.push(p(t[1],t[2],l)),l+=n(t[0]);return i},f.prototype.processBlock=function(e,t){var r=this.dialect.block,n=r.__order__;if("__call__"in r)return r.__call__.call(this,e,t);for(var i=0;i<n.length;i++){var l=r[n[i]].call(this,e,t);if(l)return(!u(l)||l.length>0&&!u(l[0]))&&this.debug(n[i],"didn't return a proper array"),l}return[]},f.prototype.processInline=function(e){return this.dialect.inline.__call__.call(this,String(e))},f.prototype.toTree=function(e,t){var r=e instanceof Array?e:this.split_blocks(e),n=this.tree;try{for(this.tree=t||this.tree||["markdown"];r.length;){var i=this.processBlock(r.shift(),r);i.length&&this.tree.push.apply(this.tree,i)}return this.tree}finally{t&&(this.tree=n)}},f.prototype.debug=function(){var e=Array.prototype.slice.call(arguments);e.unshift(this.debug_indent),"undefined"!=typeof print&&print.apply(print,e),"undefined"!=typeof console&&"undefined"!=typeof console.log&&console.log.apply(null,e)},f.prototype.loop_re_over_block=function(e,t,r){for(var n,i=t.valueOf();i.length&&null!==(n=e.exec(i));)i=i.substr(n[0].length),r.call(this,n);return i},f.buildBlockOrder=function(e){var t=[];for(var r in e)"__order__"!==r&&"__call__"!==r&&t.push(r);e.__order__=t},f.buildInlinePatterns=function(e){var t=[];for(var r in e)if(!r.match(/^__.*__$/)){var n=r.replace(/([\\.*+?|()\[\]{}])/g,"\\$1").replace(/\n/,"\\n");t.push(1===r.length?n:"(?:"+n+")")}t=t.join("|"),e.__patterns__=t;var i=e.__call__;e.__call__=function(e,r){return void 0!==r?i.call(this,e,r):i.call(this,e,t)}};var g=h.extract_attr;f.renderJsonML=function(e,t){t=t||{},t.root=t.root||!1;var r=[];if(t.root)r.push(l(e));else for(e.shift(),!e.length||"object"!=typeof e[0]||e[0]instanceof Array||e.shift();e.length;)r.push(l(e.shift()));return r.join("\n\n")},f.toHTMLTree=function(e,t,r){"string"==typeof e&&(e=this.parse(e,t));var n=g(e),i={};n&&n.references&&(i=n.references);var l=a(e,i,r);return s(l),l},f.toHTML=function(e,t,r){var n=this.toHTMLTree(e,t,r);return this.renderJsonML(n)};var v={};v.inline_until_char=function(e,t){for(var r=0,n=[];;){if(e.charAt(r)===t)return r++,[r,n];if(r>=e.length)return null;var i=this.dialect.inline.__oneElement__.call(this,e.substr(r));r+=i[0],n.push.apply(n,i.slice(1))}},v.subclassDialect=function(e){function t(){}function r(){}return t.prototype=e.block,r.prototype=e.inline,{block:new t,inline:new r}};var _=h.forEach,g=h.extract_attr,p=h.mk_block,d=h.isEmpty,b=v.inline_until_char,m={block:{atxHeader:function(e,t){var r=e.match(/^(#{1,6})\s*(.*?)\s*#*\s*(?:\n|$)/);if(r){var n=["header",{level:r[1].length}];return Array.prototype.push.apply(n,this.processInline(r[2])),r[0].length<e.length&&t.unshift(p(e.substr(r[0].length),e.trailing,e.lineNumber+2)),[n]}},setextHeader:function(e,t){var r=e.match(/^(.*)\n([-=])\2\2+(?:\n|$)/);if(r){var n="="===r[2]?1:2,i=["header",{level:n},r[1]];return r[0].length<e.length&&t.unshift(p(e.substr(r[0].length),e.trailing,e.lineNumber+2)),[i]}},code:function(e,t){var r=[],n=/^(?: {0,3}\t| {4})(.*)\n?/;if(e.match(n)){e:for(;;){var i=this.loop_re_over_block(n,e.valueOf(),function(e){r.push(e[1])});if(i.length){t.unshift(p(i,e.trailing));break e}if(!t.length)break e;if(!t[0].match(n))break e;r.push(e.trailing.replace(/[^\n]/g,"").substring(2)),e=t.shift()}return[["code_block",r.join("\n")]]}},horizRule:function(e,t){var r=e.match(/^(?:([\s\S]*?)\n)?[ \t]*([-_*])(?:[ \t]*\2){2,}[ \t]*(?:\n([\s\S]*))?$/);if(r){var n=[["hr"]];if(r[1]){var i=p(r[1],"",e.lineNumber);n.unshift.apply(n,this.toTree(i,[]))}return r[3]&&t.unshift(p(r[3],e.trailing,e.lineNumber+1)),n}},lists:function(){function e(e){return new RegExp("(?:^("+c+"{0,"+e+"} {0,3})("+l+")\\s+)|(^"+c+"{0,"+(e-1)+"}[ ]{0,4})")}function t(e){return e.replace(/ {0,3}\t/g,"    ")}function r(e,t,r,n){if(t)return void e.push(["para"].concat(r));var i=e[e.length-1]instanceof Array&&"para"===e[e.length-1][0]?e[e.length-1]:e;n&&e.length>1&&r.unshift(n);for(var l=0;l<r.length;l++){var a=r[l],s="string"==typeof a;s&&i.length>1&&"string"==typeof i[i.length-1]?i[i.length-1]+=a:i.push(a)}}function n(e,t){for(var r=new RegExp("^("+c+"{"+e+"}.*?\\n?)*$"),n=new RegExp("^"+c+"{"+e+"}","gm"),i=[];t.length>0&&r.exec(t[0]);){var l=t.shift(),a=l.replace(n,"");i.push(p(a,l.trailing,l.lineNumber))}return i}function i(e,t,r){var n=e.list,i=n[n.length-1];if(!(i[1]instanceof Array&&"para"===i[1][0]))if(t+1===r.length)i.push(["para"].concat(i.splice(1,i.length-1)));else{var l=i.pop();i.push(["para"].concat(i.splice(1,i.length-1)),l)}}var l="[*+-]|\\d+\\.",a=/[*+-]/,s=new RegExp("^( {0,3})("+l+")[ 	]+"),c="(?: {0,3}\\t| {4})";return function(l,c){function o(e){var t=a.exec(e[2])?["bulletlist"]:["numberlist"];return p.push({list:t,indent:e[1]}),t}var h=l.match(s);if(h){for(var u,f,p=[],g=o(h),v=!1,d=[p[0].list];;){for(var b=l.split(/(?=\n)/),m="",k="",y=0;y<b.length;y++){k="";var w=b[y].replace(/^\n/,function(e){return k=e,""}),$=e(p.length);if(h=w.match($),void 0!==h[1]){m.length&&(r(u,v,this.processInline(m),k),v=!1,m=""),h[1]=t(h[1]);var x=Math.floor(h[1].length/4)+1;if(x>p.length)g=o(h),u.push(g),u=g[1]=["listitem"];else{var M=!1;for(f=0;f<p.length;f++)if(p[f].indent===h[1]){g=p[f].list,p.splice(f+1,p.length-(f+1)),M=!0;break}M||(x++,x<=p.length?(p.splice(x,p.length-x),g=p[x-1].list):(g=o(h),u.push(g))),u=["listitem"],g.push(u)}k=""}w.length>h[0].length&&(m+=k+w.substr(h[0].length))}m.length&&(r(u,v,this.processInline(m),k),v=!1,m="");var E=n(p.length,c);E.length>0&&(_(p,i,this),u.push.apply(u,this.toTree(E,[])));var T=c[0]&&c[0].valueOf()||"";if(!T.match(s)&&!T.match(/^ /))break;l=c.shift();var S=this.dialect.block.horizRule(l,c);if(S){d.push.apply(d,S);break}_(p,i,this),v=!0}return d}}}(),blockquote:function(e,t){if(e.match(/^>/m)){var r=[];if(">"!==e[0]){for(var n=e.split(/\n/),i=[],l=e.lineNumber;n.length&&">"!==n[0][0];)i.push(n.shift()),l++;var a=p(i.join("\n"),"\n",e.lineNumber);r.push.apply(r,this.processBlock(a,[])),e=p(n.join("\n"),e.trailing,l)}for(;t.length&&">"===t[0][0];){var s=t.shift();e=p(e+e.trailing+s,s.trailing,e.lineNumber)}var c=e.replace(/^> ?/gm,""),o=(this.tree,this.toTree(c,["blockquote"])),h=g(o);return h&&h.references&&(delete h.references,d(h)&&o.splice(1,1)),r.push(o),r}},referenceDefn:function(e,t){var r=/^\s*\[(.*?)\]:\s*(\S+)(?:\s+(?:(['"])(.*?)\3|\((.*?)\)))?\n?/;if(e.match(r)){g(this.tree)||this.tree.splice(1,0,{});var n=g(this.tree);void 0===n.references&&(n.references={});var i=this.loop_re_over_block(r,e,function(e){e[2]&&"<"===e[2][0]&&">"===e[2][e[2].length-1]&&(e[2]=e[2].substring(1,e[2].length-1));var t=n.references[e[1].toLowerCase()]={href:e[2]};void 0!==e[4]?t.title=e[4]:void 0!==e[5]&&(t.title=e[5])});return i.length&&t.unshift(p(i,e.trailing)),[]}},para:function(e){return[["para"].concat(this.processInline(e))]}},inline:{__oneElement__:function(e,t,r){var n,i;t=t||this.dialect.inline.__patterns__;var l=new RegExp("([\\s\\S]*?)("+(t.source||t)+")");if(n=l.exec(e),!n)return[e.length,e];if(n[1])return[n[1].length,n[1]];var i;return n[2]in this.dialect.inline&&(i=this.dialect.inline[n[2]].call(this,e.substr(n.index),n,r||[])),i=i||[n[2].length,n[2]]},__call__:function(e,t){function r(e){"string"==typeof e&&"string"==typeof i[i.length-1]?i[i.length-1]+=e:i.push(e)}for(var n,i=[];e.length>0;)n=this.dialect.inline.__oneElement__.call(this,e,t,i),e=e.substr(n.shift()),_(n,r);return i},"]":function(){},"}":function(){},__escape__:/^\\[\\`\*_{}\[\]()#\+.!\-]/,"\\":function(e){return this.dialect.inline.__escape__.exec(e)?[2,e.charAt(1)]:[1,"\\"]},"![":function(e){var t=e.match(/^!\[(.*?)\][ \t]*\([ \t]*([^")]*?)(?:[ \t]+(["'])(.*?)\3)?[ \t]*\)/);if(t){t[2]&&"<"===t[2][0]&&">"===t[2][t[2].length-1]&&(t[2]=t[2].substring(1,t[2].length-1)),t[2]=this.dialect.inline.__call__.call(this,t[2],/\\/)[0];var r={alt:t[1],href:t[2]||""};return void 0!==t[4]&&(r.title=t[4]),[t[0].length,["img",r]]}return t=e.match(/^!\[(.*?)\][ \t]*\[(.*?)\]/),t?[t[0].length,["img_ref",{alt:t[1],ref:t[2].toLowerCase(),original:t[0]}]]:[2,"!["]},"[":function y(e){var t=String(e),r=b.call(this,e.substr(1),"]");if(!r)return[1,"["];var y,n,i=1+r[0],l=r[1];e=e.substr(i);var a=e.match(/^\s*\([ \t]*([^"']*)(?:[ \t]+(["'])(.*?)\2)?[ \t]*\)/);if(a){var s=a[1];if(i+=a[0].length,s&&"<"===s[0]&&">"===s[s.length-1]&&(s=s.substring(1,s.length-1)),!a[3])for(var c=1,o=0;o<s.length;o++)switch(s[o]){case"(":c++;break;case")":0===--c&&(i-=s.length-o,s=s.substring(0,o))}return s=this.dialect.inline.__call__.call(this,s,/\\/)[0],n={href:s||""},void 0!==a[3]&&(n.title=a[3]),y=["link",n].concat(l),[i,y]}return a=e.match(/^\s*\[(.*?)\]/),a?(i+=a[0].length,n={ref:(a[1]||String(l)).toLowerCase(),original:t.substr(0,i)},y=["link_ref",n].concat(l),[i,y]):1===l.length&&"string"==typeof l[0]?(n={ref:l[0].toLowerCase(),original:t.substr(0,i)},y=["link_ref",n,l[0]],[i,y]):[1,"["]},"<":function(e){var t;return null!==(t=e.match(/^<(?:((https?|ftp|mailto):[^>]+)|(.*?@.*?\.[a-zA-Z]+))>/))?t[3]?[t[0].length,["link",{href:"mailto:"+t[3]},t[3]]]:"mailto"===t[2]?[t[0].length,["link",{href:t[1]},t[1].substr("mailto:".length)]]:[t[0].length,["link",{href:t[1]},t[1]]]:[1,"<"]},"`":function(e){var t=e.match(/(`+)(([\s\S]*?)\1)/);return t&&t[2]?[t[1].length+t[2].length,["inlinecode",t[3]]]:[1,"`"]},"  \n":function(){return[3,["linebreak"]]}}};m.inline["**"]=c("strong","**"),m.inline.__=c("strong","__"),m.inline["*"]=c("em","*"),m.inline._=c("em","_"),f.dialects.Gruber=m,f.buildBlockOrder(f.dialects.Gruber.block),f.buildInlinePatterns(f.dialects.Gruber.inline);var k=v.subclassDialect(m),g=h.extract_attr,_=h.forEach;k.processMetaHash=function(e){for(var t=o(e),r={},n=0;n<t.length;++n)if(/^#/.test(t[n]))r.id=t[n].substring(1);else if(/^\./.test(t[n]))r["class"]?r["class"]=r["class"]+t[n].replace(/./," "):r["class"]=t[n].substring(1);else if(/\=/.test(t[n])){var i=t[n].split(/\=/);r[i[0]]=i[1]}return r},k.block.document_meta=function(e){if(!(e.lineNumber>1)&&e.match(/^(?:\w+:.*\n)*\w+:.*$/)){g(this.tree)||this.tree.splice(1,0,{});var t=e.split(/\n/);for(var r in t){var n=t[r].match(/(\w+):\s*(.*)$/),i=n[1].toLowerCase(),l=n[2];this.tree[1][i]=l}return[]}},k.block.block_meta=function(e){var t=e.match(/(^|\n) {0,3}\{:\s*((?:\\\}|[^\}])*)\s*\}$/);if(t){var r,n=this.dialect.processMetaHash(t[2]);if(""===t[1]){var i=this.tree[this.tree.length-1];if(r=g(i),"string"==typeof i)return;r||(r={},i.splice(1,0,r));for(var l in n)r[l]=n[l];return[]}var a=e.replace(/\n.*$/,""),s=this.processBlock(a,[]);r=g(s[0]),r||(r={},s[0].splice(1,0,r));for(var l in n)r[l]=n[l];return s}},k.block.definition_list=function(e,t){var r,n,i=/^((?:[^\s:].*\n)+):\s+([\s\S]+)$/,l=["dl"];if(n=e.match(i)){for(var a=[e];t.length&&i.exec(t[0]);)a.push(t.shift());for(var s=0;s<a.length;++s){var n=a[s].match(i),c=n[1].replace(/\n$/,"").split(/\n/),o=n[2].split(/\n:\s+/);for(r=0;r<c.length;++r)l.push(["dt",c[r]]);for(r=0;r<o.length;++r)l.push(["dd"].concat(this.processInline(o[r].replace(/(\n)\s+/,"$1"))))}return[l]}},k.block.table=function w(e){var t,r,n=function(e,t){t=t||"\\s",t.match(/^[\\|\[\]{}?*.+^$]$/)&&(t="\\"+t);for(var r,n=[],i=new RegExp("^((?:\\\\.|[^\\\\"+t+"])*)"+t+"(.*)");r=e.match(i);)n.push(r[1]),e=r[2];return n.push(e),n},i=/^ {0,3}\|(.+)\n {0,3}\|\s*([\-:]+[\-| :]*)\n((?:\s*\|.*(?:\n|$))*)(?=\n|$)/,l=/^ {0,3}(\S(?:\\.|[^\\|])*\|.*)\n {0,3}([\-:]+\s*\|[\-| :]*)\n((?:(?:\\.|[^\\|])*\|.*(?:\n|$))*)(?=\n|$)/;if(r=e.match(i))r[3]=r[3].replace(/^\s*\|/gm,"");else if(!(r=e.match(l)))return;var w=["table",["thead",["tr"]],["tbody"]];r[2]=r[2].replace(/\|\s*$/,"").split("|");var a=[];for(_(r[2],function(e){e.match(/^\s*-+:\s*$/)?a.push({align:"right"}):e.match(/^\s*:-+\s*$/)?a.push({align:"left"}):e.match(/^\s*:-+:\s*$/)?a.push({align:"center"}):a.push({})}),r[1]=n(r[1].replace(/\|\s*$/,""),"|"),t=0;t<r[1].length;t++)w[1][1].push(["th",a[t]||{}].concat(this.processInline(r[1][t].trim())));return _(r[3].replace(/\|\s*$/gm,"").split("\n"),function(e){var r=["tr"];for(e=n(e,"|"),t=0;t<e.length;t++)r.push(["td",a[t]||{}].concat(this.processInline(e[t].trim())));w[2].push(r)},this),[w]},k.inline["{:"]=function(e,t,r){if(!r.length)return[2,"{:"];var n=r[r.length-1];if("string"==typeof n)return[2,"{:"];var i=e.match(/^\{:\s*((?:\\\}|[^\}])*)\s*\}/);if(!i)return[2,"{:"];var l=this.dialect.processMetaHash(i[1]),a=g(n);a||(a={},n.splice(1,0,a));for(var s in l)a[s]=l[s];return[i[0].length,""]},f.dialects.Maruku=k,f.dialects.Maruku.inline.__escape__=/^\\[\\`\*_{}\[\]()#\+.!\-|:]/,f.buildBlockOrder(f.dialects.Maruku.block),f.buildInlinePatterns(f.dialects.Maruku.inline),e.Markdown=f,e.parse=f.parse,e.toHTML=f.toHTML,e.toHTMLTree=f.toHTMLTree,e.renderJsonML=f.renderJsonML}(function(){return window.markdown={},window.markdown}());
var BlogPost=React.createClass({displayName:"BlogPost",title:function(){return{__html:this.props.title}},subtitle:function(){return{__html:this.props.subtitle}},content:function(){return{__html:this.props.content}},render:function(){return React.createElement("article",null,React.createElement("h1",{dangerouslySetInnerHTML:this.title()}),React.createElement("h2",{dangerouslySetInnerHTML:this.subtitle()}),React.createElement("div",{"class":"content",dangerouslySetInnerHTML:this.content()}))}}),BlogPosts=React.createClass({displayName:"BlogPosts",render:function(){return React.createElement("div",{"class":"posts"},this.props.posts.map(function(t){return React.createElement(BlogPost,{title:t.title,subtitle:t.subtitle,content:t.content})}))}});
function loadPosts(t,o){var e=new XMLHttpRequest;e.onreadystatechange=function(t){4===e.readyState&&(200===e.status?o(null,JSON.parse(e.responseText)):o(Error("Cannot fetch blog posts")))},e.open("GET",t),e.send()}function markdownPostObject(t){var o={};for(var e in t)o[e]=markdown.toHTML(t[e]);return o}var postsPath="posts.json";!function(){loadPosts(postsPath,function(t,o){React.render(React.createElement(BlogPosts,{posts:o.map(markdownPostObject)}),document.querySelector("body"))})}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hcmtkb3duLmpzIiwidGVtcGxhdGVzLmpzIiwiYXBwLmpzIl0sIm5hbWVzIjpbImV4cG9zZSIsIm1rX2Jsb2NrX3RvU291cmNlIiwidW5ldmFsIiwidGhpcyIsInRvU3RyaW5nIiwidHJhaWxpbmciLCJsaW5lTnVtYmVyIiwibWtfYmxvY2tfaW5zcGVjdCIsInV0aWwiLCJyZXF1aXJlIiwiaW5zcGVjdCIsImNvdW50X2xpbmVzIiwic3RyIiwibiIsImkiLCJpbmRleE9mIiwiZXNjYXBlSFRNTCIsInRleHQiLCJyZXBsYWNlIiwicmVuZGVyX3RyZWUiLCJqc29ubWwiLCJ0YWciLCJzaGlmdCIsImF0dHJpYnV0ZXMiLCJjb250ZW50IiwibGVuZ3RoIiwiQXJyYXkiLCJwdXNoIiwidGFnX2F0dHJzIiwiYSIsImpvaW4iLCJjb252ZXJ0X3RyZWVfdG9faHRtbCIsInRyZWUiLCJyZWZlcmVuY2VzIiwib3B0aW9ucyIsInNsaWNlIiwicHJlcHJvY2Vzc1RyZWVOb2RlIiwiYXR0cnMiLCJleHRyYWN0X2F0dHIiLCJsZXZlbCIsImNvZGUiLCJhcHBseSIsInNwbGljZSIsInNyYyIsImhyZWYiLCJyZWYiLCJvcmlnaW5hbCIsInRpdGxlIiwia2V5IiwibWVyZ2VfdGV4dF9ub2RlcyIsInN0cm9uZ19lbSIsIm1kIiwiQ2xvc2VUYWciLCJsZW4iLCJsZW5fYWZ0ZXIiLCJuYW1lIiwic3RhdGVfc2xvdCIsIm90aGVyX3Nsb3QiLCJvdGhlciIsInN0YXRlIiwidW5zaGlmdCIsInJlcyIsInByb2Nlc3NJbmxpbmUiLCJzdWJzdHIiLCJsYXN0IiwicG9wIiwiY29uc3VtZWQiLCJjb25jYXQiLCJzcGxpdF9tZXRhX2hhc2giLCJtZXRhX3N0cmluZyIsIm1ldGEiLCJzcGxpdCIsInBhcnRzIiwiaW5fcXVvdGVzIiwibGV0dGVyIiwiTWFya2Rvd25IZWxwZXJzIiwibWtfYmxvY2siLCJibG9jayIsInRyYWlsIiwibGluZSIsImFyZ3VtZW50cyIsInMiLCJTdHJpbmciLCJ0b1NvdXJjZSIsInVuZGVmaW5lZCIsImlzQXJyYXkiLCJvYmoiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJjYWxsIiwiZm9yRWFjaCIsImFyciIsImNiIiwidGhpc3AiLCJpc0VtcHR5IiwiaGFzT3duUHJvcGVydHkiLCJNYXJrZG93biIsImRpYWxlY3QiLCJkaWFsZWN0cyIsIkdydWJlciIsIkVycm9yIiwiZW1fc3RhdGUiLCJzdHJvbmdfc3RhdGUiLCJkZWJ1Z19pbmRlbnQiLCJwYXJzZSIsInNvdXJjZSIsInRvVHJlZSIsInNwbGl0X2Jsb2NrcyIsImlucHV0IiwibSIsInJlIiwiYmxvY2tzIiwibGluZV9ubyIsImV4ZWMiLCJsYXN0SW5kZXgiLCJwcm9jZXNzQmxvY2siLCJuZXh0IiwiY2JzIiwib3JkIiwiX19vcmRlcl9fIiwiX19jYWxsX18iLCJkZWJ1ZyIsImlubGluZSIsImN1c3RvbV9yb290Iiwib2xkX3RyZWUiLCJiIiwiYXJncyIsInByaW50IiwiY29uc29sZSIsImxvZyIsImxvb3BfcmVfb3Zlcl9ibG9jayIsInZhbHVlT2YiLCJidWlsZEJsb2NrT3JkZXIiLCJkIiwiYnVpbGRJbmxpbmVQYXR0ZXJucyIsInBhdHRlcm5zIiwibWF0Y2giLCJsIiwiX19wYXR0ZXJuc19fIiwiZm4iLCJwYXR0ZXJuIiwicmVuZGVySnNvbk1MIiwicm9vdCIsInRvSFRNTFRyZWUiLCJyZWZzIiwiaHRtbCIsInRvSFRNTCIsIkRpYWxlY3RIZWxwZXJzIiwiaW5saW5lX3VudGlsX2NoYXIiLCJ3YW50Iiwibm9kZXMiLCJjaGFyQXQiLCJfX29uZUVsZW1lbnRfXyIsInN1YmNsYXNzRGlhbGVjdCIsIkJsb2NrIiwiSW5saW5lIiwiYXR4SGVhZGVyIiwiaGVhZGVyIiwic2V0ZXh0SGVhZGVyIiwicmV0IiwiYmxvY2tfc2VhcmNoIiwic3Vic3RyaW5nIiwiaG9yaXpSdWxlIiwiY29udGFpbmVkIiwibGlzdHMiLCJyZWdleF9mb3JfZGVwdGgiLCJkZXB0aCIsIlJlZ0V4cCIsImluZGVudF9yZSIsImFueV9saXN0IiwiZXhwYW5kX3RhYiIsImFkZCIsImxpIiwibG9vc2UiLCJubCIsImFkZF90byIsIndoYXQiLCJpc19zdHIiLCJnZXRfY29udGFpbmVkX2Jsb2NrcyIsIngiLCJwYXJhZ3JhcGhpZnkiLCJzdGFjayIsImxpc3QiLCJsYXN0X2xpIiwic3VibGlzdCIsImJ1bGxldF9saXN0IiwiaXNfbGlzdF9yZSIsIm1ha2VfbGlzdCIsImluZGVudCIsImxpbmVzIiwibGlfYWNjdW11bGF0ZSIsImxpbmVfcmUiLCJ3YW50ZWRfZGVwdGgiLCJNYXRoIiwiZmxvb3IiLCJmb3VuZCIsIm5leHRfYmxvY2siLCJociIsImJsb2NrcXVvdGUiLCJwcmV2IiwiYWJ1dHRpbmciLCJwcm9jZXNzZWRCbG9jayIsImF0dHIiLCJyZWZlcmVuY2VEZWZuIiwidG9Mb3dlckNhc2UiLCJwYXJhIiwicGF0dGVybnNfb3JfcmUiLCJwcmV2aW91c19ub2RlcyIsImluZGV4Iiwib3V0IiwiXSIsIn0iLCJfX2VzY2FwZV9fIiwiXFwiLCIhWyIsImFsdCIsIlsiLCJsaW5rIiwib3JpZyIsImNoaWxkcmVuIiwidXJsIiwib3Blbl9wYXJlbnMiLCI8IiwiYCIsIiAgXG4iLCJNYXJ1a3UiLCJwcm9jZXNzTWV0YUhhc2giLCJ0ZXN0IiwiaWQiLCJkb2N1bWVudF9tZXRhIiwicGFpcnMiLCJwIiwidmFsdWUiLCJibG9ja19tZXRhIiwiaGFzaCIsIm5vZGUiLCJyZXN1bHQiLCJkZWZpbml0aW9uX2xpc3QiLCJ0aWdodCIsInRlcm1zIiwiZGVmbnMiLCJ0YWJsZSIsIl9zcGxpdF9vbl91bmVzY2FwZWQiLCJjaCIsInIiLCJsZWFkaW5nX3BpcGUiLCJub19sZWFkaW5nX3BpcGUiLCJodG1sX2F0dHJzIiwiYWxpZ24iLCJ0cmltIiwicm93IiwiaHRtbF9yb3ciLCJtYXRjaGVzIiwiYmVmb3JlIiwiayIsIndpbmRvdyIsIm1hcmtkb3duIiwiQmxvZ1Bvc3QiLCJSZWFjdCIsImNyZWF0ZUNsYXNzIiwiZGlzcGxheU5hbWUiLCJfX2h0bWwiLCJwcm9wcyIsInN1YnRpdGxlIiwicmVuZGVyIiwiY3JlYXRlRWxlbWVudCIsImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIiwiY2xhc3MiLCJCbG9nUG9zdHMiLCJwb3N0cyIsIm1hcCIsInBvc3QiLCJsb2FkUG9zdHMiLCJwYXRoIiwiZG9uZSIsInJlcXVlc3QiLCJYTUxIdHRwUmVxdWVzdCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsImVycm9yIiwicmVhZHlTdGF0ZSIsInN0YXR1cyIsIkpTT04iLCJyZXNwb25zZVRleHQiLCJvcGVuIiwic2VuZCIsIm1hcmtkb3duUG9zdE9iamVjdCIsInBvc3RzUGF0aCIsImVyciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciJdLCJtYXBwaW5ncyI6IkNBTUEsU0FBVUEsR0FRUixRQUFTQyxLQUNQLE1BQU8sc0JBQ0NDLE9BQU9DLEtBQUtDLFlBQ1osS0FDQUYsT0FBT0MsS0FBS0UsVUFDWixLQUNBSCxPQUFPQyxLQUFLRyxZQUNaLEtBSVYsUUFBU0MsS0FDUCxHQUFJQyxHQUFPQyxRQUFRLE9BQ25CLE9BQU8sc0JBQ0NELEVBQUtFLFFBQVFQLEtBQUtDLFlBQ2xCLEtBQ0FJLEVBQUtFLFFBQVFQLEtBQUtFLFVBQ2xCLEtBQ0FHLEVBQUtFLFFBQVFQLEtBQUtHLFlBQ2xCLEtBdUlWLFFBQVNLLEdBQWFDLEdBR3BCLElBRkEsR0FBSUMsR0FBSSxFQUNKQyxFQUFJLEdBQ3FDLE1BQW5DQSxFQUFJRixFQUFJRyxRQUFRLEtBQU1ELEVBQUksS0FDbENELEdBQ0YsT0FBT0EsR0FvUVQsUUFBU0csR0FBWUMsR0FDbkIsTUFBT0EsR0FBS0MsUUFBUyxLQUFNLFNBQ2ZBLFFBQVMsS0FBTSxRQUNmQSxRQUFTLEtBQU0sUUFDZkEsUUFBUyxLQUFNLFVBQ2ZBLFFBQVMsS0FBTSxTQUc3QixRQUFTQyxHQUFhQyxHQUVwQixHQUF1QixnQkFBWEEsR0FDVixNQUFPSixHQUFZSSxFQUVyQixJQUFJQyxHQUFNRCxFQUFPRSxRQUNiQyxLQUNBQyxJQUtKLE1BSEtKLEVBQU9LLFFBQWlDLGdCQUFoQkwsR0FBUSxJQUF1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LFdBQVksY0FFaEIsV0FDRWQsVUFBVWMsVUFBVyxTQUFVQyxFQUFLbkQsR0FDbENzQixNQUFNTSxPQUFPTixNQUFNTyxjQUFjRyxXQUFhQyxNQUFPakMsRUFBT2tDLElBQUllLHNCQUF3QkcsU0FBU0MsY0FBYyIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZVxuLy8gQ29weXJpZ2h0IChjKSAyMDA5LTIwMTAgRG9taW5pYyBCYWdnb3R0XG4vLyBDb3B5cmlnaHQgKGMpIDIwMDktMjAxMCBBc2ggQmVybGluXG4vLyBDb3B5cmlnaHQgKGMpIDIwMTEgQ2hyaXN0b3BoIERvcm4gPGNocmlzdG9waEBjaHJpc3RvcGhkb3JuLmNvbT4gKGh0dHA6Ly93d3cuY2hyaXN0b3BoZG9ybi5jb20pXG4vLyBEYXRlOiAyMDEzLTA5LTE1VDE2OjEyWlxuXG4oZnVuY3Rpb24oZXhwb3NlKSB7XG5cblxuXG5cbiAgdmFyIE1hcmtkb3duSGVscGVycyA9IHt9O1xuXG4gIC8vIEZvciBTcGlkZXJtb25rZXkgYmFzZWQgZW5naW5lc1xuICBmdW5jdGlvbiBta19ibG9ja190b1NvdXJjZSgpIHtcbiAgICByZXR1cm4gXCJNYXJrZG93bi5ta19ibG9jayggXCIgK1xuICAgICAgICAgICAgdW5ldmFsKHRoaXMudG9TdHJpbmcoKSkgK1xuICAgICAgICAgICAgXCIsIFwiICtcbiAgICAgICAgICAgIHVuZXZhbCh0aGlzLnRyYWlsaW5nKSArXG4gICAgICAgICAgICBcIiwgXCIgK1xuICAgICAgICAgICAgdW5ldmFsKHRoaXMubGluZU51bWJlcikgK1xuICAgICAgICAgICAgXCIgKVwiO1xuICB9XG5cbiAgLy8gbm9kZVxuICBmdW5jdGlvbiBta19ibG9ja19pbnNwZWN0KCkge1xuICAgIHZhciB1dGlsID0gcmVxdWlyZShcInV0aWxcIik7XG4gICAgcmV0dXJuIFwiTWFya2Rvd24ubWtfYmxvY2soIFwiICtcbiAgICAgICAgICAgIHV0aWwuaW5zcGVjdCh0aGlzLnRvU3RyaW5nKCkpICtcbiAgICAgICAgICAgIFwiLCBcIiArXG4gICAgICAgICAgICB1dGlsLmluc3BlY3QodGhpcy50cmFpbGluZykgK1xuICAgICAgICAgICAgXCIsIFwiICtcbiAgICAgICAgICAgIHV0aWwuaW5zcGVjdCh0aGlzLmxpbmVOdW1iZXIpICtcbiAgICAgICAgICAgIFwiIClcIjtcblxuICB9XG5cbiAgTWFya2Rvd25IZWxwZXJzLm1rX2Jsb2NrID0gZnVuY3Rpb24oYmxvY2ssIHRyYWlsLCBsaW5lKSB7XG4gICAgLy8gQmUgaGVscGZ1bCBmb3IgZGVmYXVsdCBjYXNlIGluIHRlc3RzLlxuICAgIGlmICggYXJndW1lbnRzLmxlbmd0aCA9PT0gMSApXG4gICAgICB0cmFpbCA9IFwiXFxuXFxuXCI7XG5cbiAgICAvLyBXZSBhY3R1YWxseSBuZWVkIGEgU3RyaW5nIG9iamVjdCwgbm90IGEgc3RyaW5nIHByaW1pdGl2ZVxuICAgIC8qIGpzaGludCAtVzA1MyAqL1xuICAgIHZhciBzID0gbmV3IFN0cmluZyhibG9jayk7XG4gICAgcy50cmFpbGluZyA9IHRyYWlsO1xuICAgIC8vIFRvIG1ha2UgaXQgY2xlYXIgaXRzIG5vdCBqdXN0IGEgc3RyaW5nXG4gICAgcy5pbnNwZWN0ID0gbWtfYmxvY2tfaW5zcGVjdDtcbiAgICBzLnRvU291cmNlID0gbWtfYmxvY2tfdG9Tb3VyY2U7XG5cbiAgICBpZiAoIGxpbmUgIT09IHVuZGVmaW5lZCApXG4gICAgICBzLmxpbmVOdW1iZXIgPSBsaW5lO1xuXG4gICAgcmV0dXJuIHM7XG4gIH07XG5cblxuICB2YXIgaXNBcnJheSA9IE1hcmtkb3duSGVscGVycy5pc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09IFwiW29iamVjdCBBcnJheV1cIjtcbiAgfTtcblxuICAvLyBEb24ndCBtZXNzIHdpdGggQXJyYXkucHJvdG90eXBlLiBJdHMgbm90IGZyaWVuZGx5XG4gIGlmICggQXJyYXkucHJvdG90eXBlLmZvckVhY2ggKSB7XG4gICAgTWFya2Rvd25IZWxwZXJzLmZvckVhY2ggPSBmdW5jdGlvbiBmb3JFYWNoKCBhcnIsIGNiLCB0aGlzcCApIHtcbiAgICAgIHJldHVybiBhcnIuZm9yRWFjaCggY2IsIHRoaXNwICk7XG4gICAgfTtcbiAgfVxuICBlbHNlIHtcbiAgICBNYXJrZG93bkhlbHBlcnMuZm9yRWFjaCA9IGZ1bmN0aW9uIGZvckVhY2goYXJyLCBjYiwgdGhpc3ApIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKVxuICAgICAgICBjYi5jYWxsKHRoaXNwIHx8IGFyciwgYXJyW2ldLCBpLCBhcnIpO1xuICAgIH07XG4gIH1cblxuICBNYXJrZG93bkhlbHBlcnMuaXNFbXB0eSA9IGZ1bmN0aW9uIGlzRW1wdHkoIG9iaiApIHtcbiAgICBmb3IgKCB2YXIga2V5IGluIG9iaiApIHtcbiAgICAgIGlmICggaGFzT3duUHJvcGVydHkuY2FsbCggb2JqLCBrZXkgKSApXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgTWFya2Rvd25IZWxwZXJzLmV4dHJhY3RfYXR0ciA9IGZ1bmN0aW9uIGV4dHJhY3RfYXR0cigganNvbm1sICkge1xuICAgIHJldHVybiBpc0FycmF5KGpzb25tbClcbiAgICAgICAgJiYganNvbm1sLmxlbmd0aCA+IDFcbiAgICAgICAgJiYgdHlwZW9mIGpzb25tbFsgMSBdID09PSBcIm9iamVjdFwiXG4gICAgICAgICYmICEoIGlzQXJyYXkoanNvbm1sWyAxIF0pIClcbiAgICAgICAgPyBqc29ubWxbIDEgXVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgfTtcblxuXG5cblxuIC8qKlxuICAgKiAgY2xhc3MgTWFya2Rvd25cbiAgICpcbiAgICogIE1hcmtkb3duIHByb2Nlc3NpbmcgaW4gSmF2YXNjcmlwdCBkb25lIHJpZ2h0LiBXZSBoYXZlIHZlcnkgcGFydGljdWxhciB2aWV3c1xuICAgKiAgb24gd2hhdCBjb25zdGl0dXRlcyAncmlnaHQnIHdoaWNoIGluY2x1ZGU6XG4gICAqXG4gICAqICAtIHByb2R1Y2VzIHdlbGwtZm9ybWVkIEhUTUwgKHRoaXMgbWVhbnMgdGhhdCBlbSBhbmQgc3Ryb25nIG5lc3RpbmcgaXNcbiAgICogICAgaW1wb3J0YW50KVxuICAgKlxuICAgKiAgLSBoYXMgYW4gaW50ZXJtZWRpYXRlIHJlcHJlc2VudGF0aW9uIHRvIGFsbG93IHByb2Nlc3Npbmcgb2YgcGFyc2VkIGRhdGEgKFdlXG4gICAqICAgIGluIGZhY3QgaGF2ZSB0d28sIGJvdGggYXMgW0pzb25NTF06IGEgbWFya2Rvd24gdHJlZSBhbmQgYW4gSFRNTCB0cmVlKS5cbiAgICpcbiAgICogIC0gaXMgZWFzaWx5IGV4dGVuc2libGUgdG8gYWRkIG5ldyBkaWFsZWN0cyB3aXRob3V0IGhhdmluZyB0byByZXdyaXRlIHRoZVxuICAgKiAgICBlbnRpcmUgcGFyc2luZyBtZWNoYW5pY3NcbiAgICpcbiAgICogIC0gaGFzIGEgZ29vZCB0ZXN0IHN1aXRlXG4gICAqXG4gICAqICBUaGlzIGltcGxlbWVudGF0aW9uIGZ1bGZpbGxzIGFsbCBvZiB0aGVzZSAoZXhjZXB0IHRoYXQgdGhlIHRlc3Qgc3VpdGUgY291bGRcbiAgICogIGRvIHdpdGggZXhwYW5kaW5nIHRvIGF1dG9tYXRpY2FsbHkgcnVuIGFsbCB0aGUgZml4dHVyZXMgZnJvbSBvdGhlciBNYXJrZG93blxuICAgKiAgaW1wbGVtZW50YXRpb25zLilcbiAgICpcbiAgICogICMjIyMjIEludGVybWVkaWF0ZSBSZXByZXNlbnRhdGlvblxuICAgKlxuICAgKiAgKlRPRE8qIFRhbGsgYWJvdXQgdGhpcyA6KSBJdHMgSnNvbk1MLCBidXQgZG9jdW1lbnQgdGhlIG5vZGUgbmFtZXMgd2UgdXNlLlxuICAgKlxuICAgKiAgW0pzb25NTF06IGh0dHA6Ly9qc29ubWwub3JnLyBcIkpTT04gTWFya3VwIExhbmd1YWdlXCJcbiAgICoqL1xuICB2YXIgTWFya2Rvd24gPSBmdW5jdGlvbihkaWFsZWN0KSB7XG4gICAgc3dpdGNoICh0eXBlb2YgZGlhbGVjdCkge1xuICAgIGNhc2UgXCJ1bmRlZmluZWRcIjpcbiAgICAgIHRoaXMuZGlhbGVjdCA9IE1hcmtkb3duLmRpYWxlY3RzLkdydWJlcjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgIHRoaXMuZGlhbGVjdCA9IGRpYWxlY3Q7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgaWYgKCBkaWFsZWN0IGluIE1hcmtkb3duLmRpYWxlY3RzIClcbiAgICAgICAgdGhpcy5kaWFsZWN0ID0gTWFya2Rvd24uZGlhbGVjdHNbZGlhbGVjdF07XG4gICAgICBlbHNlXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gTWFya2Rvd24gZGlhbGVjdCAnXCIgKyBTdHJpbmcoZGlhbGVjdCkgKyBcIidcIik7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgdGhpcy5lbV9zdGF0ZSA9IFtdO1xuICAgIHRoaXMuc3Ryb25nX3N0YXRlID0gW107XG4gICAgdGhpcy5kZWJ1Z19pbmRlbnQgPSBcIlwiO1xuICB9O1xuXG4gIC8qKlxuICAgKiBNYXJrZG93bi5kaWFsZWN0c1xuICAgKlxuICAgKiBOYW1lc3BhY2Ugb2YgYnVpbHQtaW4gZGlhbGVjdHMuXG4gICAqKi9cbiAgTWFya2Rvd24uZGlhbGVjdHMgPSB7fTtcblxuXG5cblxuICAvLyBJbXBvcnRlZCBmdW5jdGlvbnNcbiAgdmFyIG1rX2Jsb2NrID0gTWFya2Rvd24ubWtfYmxvY2sgPSBNYXJrZG93bkhlbHBlcnMubWtfYmxvY2ssXG4gICAgICBpc0FycmF5ID0gTWFya2Rvd25IZWxwZXJzLmlzQXJyYXk7XG5cbiAgLyoqXG4gICAqICBwYXJzZSggbWFya2Rvd24sIFtkaWFsZWN0XSApIC0+IEpzb25NTFxuICAgKiAgLSBtYXJrZG93biAoU3RyaW5nKTogbWFya2Rvd24gc3RyaW5nIHRvIHBhcnNlXG4gICAqICAtIGRpYWxlY3QgKFN0cmluZyB8IERpYWxlY3QpOiB0aGUgZGlhbGVjdCB0byB1c2UsIGRlZmF1bHRzIHRvIGdydWJlclxuICAgKlxuICAgKiAgUGFyc2UgYG1hcmtkb3duYCBhbmQgcmV0dXJuIGEgbWFya2Rvd24gZG9jdW1lbnQgYXMgYSBNYXJrZG93bi5Kc29uTUwgdHJlZS5cbiAgICoqL1xuICBNYXJrZG93bi5wYXJzZSA9IGZ1bmN0aW9uKCBzb3VyY2UsIGRpYWxlY3QgKSB7XG4gICAgLy8gZGlhbGVjdCB3aWxsIGRlZmF1bHQgaWYgdW5kZWZpbmVkXG4gICAgdmFyIG1kID0gbmV3IE1hcmtkb3duKCBkaWFsZWN0ICk7XG4gICAgcmV0dXJuIG1kLnRvVHJlZSggc291cmNlICk7XG4gIH07XG5cbiAgZnVuY3Rpb24gY291bnRfbGluZXMoIHN0ciApIHtcbiAgICB2YXIgbiA9IDAsXG4gICAgICAgIGkgPSAtMTtcbiAgICB3aGlsZSAoICggaSA9IHN0ci5pbmRleE9mKFwiXFxuXCIsIGkgKyAxKSApICE9PSAtMSApXG4gICAgICBuKys7XG4gICAgcmV0dXJuIG47XG4gIH1cblxuICAvLyBJbnRlcm5hbCAtIHNwbGl0IHNvdXJjZSBpbnRvIHJvdWdoIGJsb2Nrc1xuICBNYXJrZG93bi5wcm90b3R5cGUuc3BsaXRfYmxvY2tzID0gZnVuY3Rpb24gc3BsaXRCbG9ja3MoIGlucHV0ICkge1xuICAgIGlucHV0ID0gaW5wdXQucmVwbGFjZSgvKFxcclxcbnxcXG58XFxyKS9nLCBcIlxcblwiKTtcbiAgICAvLyBbXFxzXFxTXSBtYXRjaGVzIF9hbnl0aGluZ18gKG5ld2xpbmUgb3Igc3BhY2UpXG4gICAgLy8gW15dIGlzIGVxdWl2YWxlbnQgYnV0IGRvZXNuJ3Qgd29yayBpbiBJRXMuXG4gICAgdmFyIHJlID0gLyhbXFxzXFxTXSs/KSgkfFxcbiN8XFxuKD86XFxzKlxcbnwkKSspL2csXG4gICAgICAgIGJsb2NrcyA9IFtdLFxuICAgICAgICBtO1xuXG4gICAgdmFyIGxpbmVfbm8gPSAxO1xuXG4gICAgaWYgKCAoIG0gPSAvXihcXHMqXFxuKS8uZXhlYyhpbnB1dCkgKSAhPT0gbnVsbCApIHtcbiAgICAgIC8vIHNraXAgKGJ1dCBjb3VudCkgbGVhZGluZyBibGFuayBsaW5lc1xuICAgICAgbGluZV9ubyArPSBjb3VudF9saW5lcyggbVswXSApO1xuICAgICAgcmUubGFzdEluZGV4ID0gbVswXS5sZW5ndGg7XG4gICAgfVxuXG4gICAgd2hpbGUgKCAoIG0gPSByZS5leGVjKGlucHV0KSApICE9PSBudWxsICkge1xuICAgICAgaWYgKG1bMl0gPT09IFwiXFxuI1wiKSB7XG4gICAgICAgIG1bMl0gPSBcIlxcblwiO1xuICAgICAgICByZS5sYXN0SW5kZXgtLTtcbiAgICAgIH1cbiAgICAgIGJsb2Nrcy5wdXNoKCBta19ibG9jayggbVsxXSwgbVsyXSwgbGluZV9ubyApICk7XG4gICAgICBsaW5lX25vICs9IGNvdW50X2xpbmVzKCBtWzBdICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJsb2NrcztcbiAgfTtcblxuICAvKipcbiAgICogIE1hcmtkb3duI3Byb2Nlc3NCbG9jayggYmxvY2ssIG5leHQgKSAtPiB1bmRlZmluZWQgfCBbIEpzb25NTCwgLi4uIF1cbiAgICogIC0gYmxvY2sgKFN0cmluZyk6IHRoZSBibG9jayB0byBwcm9jZXNzXG4gICAqICAtIG5leHQgKEFycmF5KTogdGhlIGZvbGxvd2luZyBibG9ja3NcbiAgICpcbiAgICogUHJvY2VzcyBgYmxvY2tgIGFuZCByZXR1cm4gYW4gYXJyYXkgb2YgSnNvbk1MIG5vZGVzIHJlcHJlc2VudGluZyBgYmxvY2tgLlxuICAgKlxuICAgKiBJdCBkb2VzIHRoaXMgYnkgYXNraW5nIGVhY2ggYmxvY2sgbGV2ZWwgZnVuY3Rpb24gaW4gdGhlIGRpYWxlY3QgdG8gcHJvY2Vzc1xuICAgKiB0aGUgYmxvY2sgdW50aWwgb25lIGNhbi4gU3VjY2VzZnVsIGhhbmRsaW5nIGlzIGluZGljYXRlZCBieSByZXR1cm5pbmcgYW5cbiAgICogYXJyYXkgKHdpdGggemVybyBvciBtb3JlIEpzb25NTCBub2RlcyksIGZhaWx1cmUgYnkgYSBmYWxzZSB2YWx1ZS5cbiAgICpcbiAgICogQmxvY2tzIGhhbmRsZXJzIGFyZSByZXNwb25zaWJsZSBmb3IgY2FsbGluZyBbW01hcmtkb3duI3Byb2Nlc3NJbmxpbmVdXVxuICAgKiB0aGVtc2VsdmVzIGFzIGFwcHJvcHJpYXRlLlxuICAgKlxuICAgKiBJZiB0aGUgYmxvY2tzIHdlcmUgc3BsaXQgaW5jb3JyZWN0bHkgb3IgYWRqYWNlbnQgYmxvY2tzIG5lZWQgY29sbGFwc2luZyB5b3VcbiAgICogY2FuIGFkanVzdCBgbmV4dGAgaW4gcGxhY2UgdXNpbmcgc2hpZnQvc3BsaWNlIGV0Yy5cbiAgICpcbiAgICogSWYgYW55IG9mIHRoaXMgZGVmYXVsdCBiZWhhdmlvdXIgaXMgbm90IHJpZ2h0IGZvciB0aGUgZGlhbGVjdCwgeW91IGNhblxuICAgKiBkZWZpbmUgYSBgX19jYWxsX19gIG1ldGhvZCBvbiB0aGUgZGlhbGVjdCB0aGF0IHdpbGwgZ2V0IGludm9rZWQgdG8gaGFuZGxlXG4gICAqIHRoZSBibG9jayBwcm9jZXNzaW5nLlxuICAgKi9cbiAgTWFya2Rvd24ucHJvdG90eXBlLnByb2Nlc3NCbG9jayA9IGZ1bmN0aW9uIHByb2Nlc3NCbG9jayggYmxvY2ssIG5leHQgKSB7XG4gICAgdmFyIGNicyA9IHRoaXMuZGlhbGVjdC5ibG9jayxcbiAgICAgICAgb3JkID0gY2JzLl9fb3JkZXJfXztcblxuICAgIGlmICggXCJfX2NhbGxfX1wiIGluIGNicyApXG4gICAgICByZXR1cm4gY2JzLl9fY2FsbF9fLmNhbGwodGhpcywgYmxvY2ssIG5leHQpO1xuXG4gICAgZm9yICggdmFyIGkgPSAwOyBpIDwgb3JkLmxlbmd0aDsgaSsrICkge1xuICAgICAgLy9EOnRoaXMuZGVidWcoIFwiVGVzdGluZ1wiLCBvcmRbaV0gKTtcbiAgICAgIHZhciByZXMgPSBjYnNbIG9yZFtpXSBdLmNhbGwoIHRoaXMsIGJsb2NrLCBuZXh0ICk7XG4gICAgICBpZiAoIHJlcyApIHtcbiAgICAgICAgLy9EOnRoaXMuZGVidWcoXCIgIG1hdGNoZWRcIik7XG4gICAgICAgIGlmICggIWlzQXJyYXkocmVzKSB8fCAoIHJlcy5sZW5ndGggPiAwICYmICEoIGlzQXJyYXkocmVzWzBdKSApICkgKVxuICAgICAgICAgIHRoaXMuZGVidWcob3JkW2ldLCBcImRpZG4ndCByZXR1cm4gYSBwcm9wZXIgYXJyYXlcIik7XG4gICAgICAgIC8vRDp0aGlzLmRlYnVnKCBcIlwiICk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVWhvaCEgbm8gbWF0Y2ghIFNob3VsZCB3ZSB0aHJvdyBhbiBlcnJvcj9cbiAgICByZXR1cm4gW107XG4gIH07XG5cbiAgTWFya2Rvd24ucHJvdG90eXBlLnByb2Nlc3NJbmxpbmUgPSBmdW5jdGlvbiBwcm9jZXNzSW5saW5lKCBibG9jayApIHtcbiAgICByZXR1cm4gdGhpcy5kaWFsZWN0LmlubGluZS5fX2NhbGxfXy5jYWxsKCB0aGlzLCBTdHJpbmcoIGJsb2NrICkgKTtcbiAgfTtcblxuICAvKipcbiAgICogIE1hcmtkb3duI3RvVHJlZSggc291cmNlICkgLT4gSnNvbk1MXG4gICAqICAtIHNvdXJjZSAoU3RyaW5nKTogbWFya2Rvd24gc291cmNlIHRvIHBhcnNlXG4gICAqXG4gICAqICBQYXJzZSBgc291cmNlYCBpbnRvIGEgSnNvbk1MIHRyZWUgcmVwcmVzZW50aW5nIHRoZSBtYXJrZG93biBkb2N1bWVudC5cbiAgICoqL1xuICAvLyBjdXN0b21fdHJlZSBtZWFucyBzZXQgdGhpcy50cmVlIHRvIGBjdXN0b21fdHJlZWAgYW5kIHJlc3RvcmUgb2xkIHZhbHVlIG9uIHJldHVyblxuICBNYXJrZG93bi5wcm90b3R5cGUudG9UcmVlID0gZnVuY3Rpb24gdG9UcmVlKCBzb3VyY2UsIGN1c3RvbV9yb290ICkge1xuICAgIHZhciBibG9ja3MgPSBzb3VyY2UgaW5zdGFuY2VvZiBBcnJheSA/IHNvdXJjZSA6IHRoaXMuc3BsaXRfYmxvY2tzKCBzb3VyY2UgKTtcblxuICAgIC8vIE1ha2UgdHJlZSBhIG1lbWJlciB2YXJpYWJsZSBzbyBpdHMgZWFzaWVyIHRvIG1lc3Mgd2l0aCBpbiBleHRlbnNpb25zXG4gICAgdmFyIG9sZF90cmVlID0gdGhpcy50cmVlO1xuICAgIHRyeSB7XG4gICAgICB0aGlzLnRyZWUgPSBjdXN0b21fcm9vdCB8fCB0aGlzLnRyZWUgfHwgWyBcIm1hcmtkb3duXCIgXTtcblxuICAgICAgYmxvY2tzX2xvb3A6XG4gICAgICB3aGlsZSAoIGJsb2Nrcy5sZW5ndGggKSB7XG4gICAgICAgIHZhciBiID0gdGhpcy5wcm9jZXNzQmxvY2soIGJsb2Nrcy5zaGlmdCgpLCBibG9ja3MgKTtcblxuICAgICAgICAvLyBSZWZlcmVuY2UgYmxvY2tzIGFuZCB0aGUgbGlrZSB3b24ndCByZXR1cm4gYW55IGNvbnRlbnRcbiAgICAgICAgaWYgKCAhYi5sZW5ndGggKVxuICAgICAgICAgIGNvbnRpbnVlIGJsb2Nrc19sb29wO1xuXG4gICAgICAgIHRoaXMudHJlZS5wdXNoLmFwcGx5KCB0aGlzLnRyZWUsIGIgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnRyZWU7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgaWYgKCBjdXN0b21fcm9vdCApXG4gICAgICAgIHRoaXMudHJlZSA9IG9sZF90cmVlO1xuICAgIH1cbiAgfTtcblxuICAvLyBOb29wIGJ5IGRlZmF1bHRcbiAgTWFya2Rvd24ucHJvdG90eXBlLmRlYnVnID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoIGFyZ3VtZW50cyk7XG4gICAgYXJncy51bnNoaWZ0KHRoaXMuZGVidWdfaW5kZW50KTtcbiAgICBpZiAoIHR5cGVvZiBwcmludCAhPT0gXCJ1bmRlZmluZWRcIiApXG4gICAgICBwcmludC5hcHBseSggcHJpbnQsIGFyZ3MgKTtcbiAgICBpZiAoIHR5cGVvZiBjb25zb2xlICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBjb25zb2xlLmxvZyAhPT0gXCJ1bmRlZmluZWRcIiApXG4gICAgICBjb25zb2xlLmxvZy5hcHBseSggbnVsbCwgYXJncyApO1xuICB9O1xuXG4gIE1hcmtkb3duLnByb3RvdHlwZS5sb29wX3JlX292ZXJfYmxvY2sgPSBmdW5jdGlvbiggcmUsIGJsb2NrLCBjYiApIHtcbiAgICAvLyBEb250IHVzZSAvZyByZWdleHBzIHdpdGggdGhpc1xuICAgIHZhciBtLFxuICAgICAgICBiID0gYmxvY2sudmFsdWVPZigpO1xuXG4gICAgd2hpbGUgKCBiLmxlbmd0aCAmJiAobSA9IHJlLmV4ZWMoYikgKSAhPT0gbnVsbCApIHtcbiAgICAgIGIgPSBiLnN1YnN0ciggbVswXS5sZW5ndGggKTtcbiAgICAgIGNiLmNhbGwodGhpcywgbSk7XG4gICAgfVxuICAgIHJldHVybiBiO1xuICB9O1xuXG4gIC8vIEJ1aWxkIGRlZmF1bHQgb3JkZXIgZnJvbSBpbnNlcnRpb24gb3JkZXIuXG4gIE1hcmtkb3duLmJ1aWxkQmxvY2tPcmRlciA9IGZ1bmN0aW9uKGQpIHtcbiAgICB2YXIgb3JkID0gW107XG4gICAgZm9yICggdmFyIGkgaW4gZCApIHtcbiAgICAgIGlmICggaSA9PT0gXCJfX29yZGVyX19cIiB8fCBpID09PSBcIl9fY2FsbF9fXCIgKVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIG9yZC5wdXNoKCBpICk7XG4gICAgfVxuICAgIGQuX19vcmRlcl9fID0gb3JkO1xuICB9O1xuXG4gIC8vIEJ1aWxkIHBhdHRlcm5zIGZvciBpbmxpbmUgbWF0Y2hlclxuICBNYXJrZG93bi5idWlsZElubGluZVBhdHRlcm5zID0gZnVuY3Rpb24oZCkge1xuICAgIHZhciBwYXR0ZXJucyA9IFtdO1xuXG4gICAgZm9yICggdmFyIGkgaW4gZCApIHtcbiAgICAgIC8vIF9fZm9vX18gaXMgcmVzZXJ2ZWQgYW5kIG5vdCBhIHBhdHRlcm5cbiAgICAgIGlmICggaS5tYXRjaCggL15fXy4qX18kLykgKVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIHZhciBsID0gaS5yZXBsYWNlKCAvKFtcXFxcLiorP3woKVxcW1xcXXt9XSkvZywgXCJcXFxcJDFcIiApXG4gICAgICAgICAgICAgICAucmVwbGFjZSggL1xcbi8sIFwiXFxcXG5cIiApO1xuICAgICAgcGF0dGVybnMucHVzaCggaS5sZW5ndGggPT09IDEgPyBsIDogXCIoPzpcIiArIGwgKyBcIilcIiApO1xuICAgIH1cblxuICAgIHBhdHRlcm5zID0gcGF0dGVybnMuam9pbihcInxcIik7XG4gICAgZC5fX3BhdHRlcm5zX18gPSBwYXR0ZXJucztcbiAgICAvL3ByaW50KFwicGF0dGVybnM6XCIsIHVuZXZhbCggcGF0dGVybnMgKSApO1xuXG4gICAgdmFyIGZuID0gZC5fX2NhbGxfXztcbiAgICBkLl9fY2FsbF9fID0gZnVuY3Rpb24odGV4dCwgcGF0dGVybikge1xuICAgICAgaWYgKCBwYXR0ZXJuICE9PSB1bmRlZmluZWQgKVxuICAgICAgICByZXR1cm4gZm4uY2FsbCh0aGlzLCB0ZXh0LCBwYXR0ZXJuKTtcbiAgICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhpcywgdGV4dCwgcGF0dGVybnMpO1xuICAgIH07XG4gIH07XG5cblxuXG5cbiAgdmFyIGV4dHJhY3RfYXR0ciA9IE1hcmtkb3duSGVscGVycy5leHRyYWN0X2F0dHI7XG5cbiAgLyoqXG4gICAqICByZW5kZXJKc29uTUwoIGpzb25tbFssIG9wdGlvbnNdICkgLT4gU3RyaW5nXG4gICAqICAtIGpzb25tbCAoQXJyYXkpOiBKc29uTUwgYXJyYXkgdG8gcmVuZGVyIHRvIFhNTFxuICAgKiAgLSBvcHRpb25zIChPYmplY3QpOiBvcHRpb25zXG4gICAqXG4gICAqICBDb252ZXJ0cyB0aGUgZ2l2ZW4gSnNvbk1MIGludG8gd2VsbC1mb3JtZWQgWE1MLlxuICAgKlxuICAgKiAgVGhlIG9wdGlvbnMgY3VycmVudGx5IHVuZGVyc3Rvb2QgYXJlOlxuICAgKlxuICAgKiAgLSByb290IChCb29sZWFuKTogd2V0aGVyIG9yIG5vdCB0aGUgcm9vdCBub2RlIHNob3VsZCBiZSBpbmNsdWRlZCBpbiB0aGVcbiAgICogICAgb3V0cHV0LCBvciBqdXN0IGl0cyBjaGlsZHJlbi4gVGhlIGRlZmF1bHQgYGZhbHNlYCBpcyB0byBub3QgaW5jbHVkZSB0aGVcbiAgICogICAgcm9vdCBpdHNlbGYuXG4gICAqL1xuICBNYXJrZG93bi5yZW5kZXJKc29uTUwgPSBmdW5jdGlvbigganNvbm1sLCBvcHRpb25zICkge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIC8vIGluY2x1ZGUgdGhlIHJvb3QgZWxlbWVudCBpbiB0aGUgcmVuZGVyZWQgb3V0cHV0P1xuICAgIG9wdGlvbnMucm9vdCA9IG9wdGlvbnMucm9vdCB8fCBmYWxzZTtcblxuICAgIHZhciBjb250ZW50ID0gW107XG5cbiAgICBpZiAoIG9wdGlvbnMucm9vdCApIHtcbiAgICAgIGNvbnRlbnQucHVzaCggcmVuZGVyX3RyZWUoIGpzb25tbCApICk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAganNvbm1sLnNoaWZ0KCk7IC8vIGdldCByaWQgb2YgdGhlIHRhZ1xuICAgICAgaWYgKCBqc29ubWwubGVuZ3RoICYmIHR5cGVvZiBqc29ubWxbIDAgXSA9PT0gXCJvYmplY3RcIiAmJiAhKCBqc29ubWxbIDAgXSBpbnN0YW5jZW9mIEFycmF5ICkgKVxuICAgICAgICBqc29ubWwuc2hpZnQoKTsgLy8gZ2V0IHJpZCBvZiB0aGUgYXR0cmlidXRlc1xuXG4gICAgICB3aGlsZSAoIGpzb25tbC5sZW5ndGggKVxuICAgICAgICBjb250ZW50LnB1c2goIHJlbmRlcl90cmVlKCBqc29ubWwuc2hpZnQoKSApICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbnRlbnQuam9pbiggXCJcXG5cXG5cIiApO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqICB0b0hUTUxUcmVlKCBtYXJrZG93biwgW2RpYWxlY3RdICkgLT4gSnNvbk1MXG4gICAqICB0b0hUTUxUcmVlKCBtZF90cmVlICkgLT4gSnNvbk1MXG4gICAqICAtIG1hcmtkb3duIChTdHJpbmcpOiBtYXJrZG93biBzdHJpbmcgdG8gcGFyc2VcbiAgICogIC0gZGlhbGVjdCAoU3RyaW5nIHwgRGlhbGVjdCk6IHRoZSBkaWFsZWN0IHRvIHVzZSwgZGVmYXVsdHMgdG8gZ3J1YmVyXG4gICAqICAtIG1kX3RyZWUgKE1hcmtkb3duLkpzb25NTCk6IHBhcnNlZCBtYXJrZG93biB0cmVlXG4gICAqXG4gICAqICBUdXJuIG1hcmtkb3duIGludG8gSFRNTCwgcmVwcmVzZW50ZWQgYXMgYSBKc29uTUwgdHJlZS4gSWYgYSBzdHJpbmcgaXMgZ2l2ZW5cbiAgICogIHRvIHRoaXMgZnVuY3Rpb24sIGl0IGlzIGZpcnN0IHBhcnNlZCBpbnRvIGEgbWFya2Rvd24gdHJlZSBieSBjYWxsaW5nXG4gICAqICBbW3BhcnNlXV0uXG4gICAqKi9cbiAgTWFya2Rvd24udG9IVE1MVHJlZSA9IGZ1bmN0aW9uIHRvSFRNTFRyZWUoIGlucHV0LCBkaWFsZWN0ICwgb3B0aW9ucyApIHtcblxuICAgIC8vIGNvbnZlcnQgc3RyaW5nIGlucHV0IHRvIGFuIE1EIHRyZWVcbiAgICBpZiAoIHR5cGVvZiBpbnB1dCA9PT0gXCJzdHJpbmdcIiApXG4gICAgICBpbnB1dCA9IHRoaXMucGFyc2UoIGlucHV0LCBkaWFsZWN0ICk7XG5cbiAgICAvLyBOb3cgY29udmVydCB0aGUgTUQgdHJlZSB0byBhbiBIVE1MIHRyZWVcblxuICAgIC8vIHJlbW92ZSByZWZlcmVuY2VzIGZyb20gdGhlIHRyZWVcbiAgICB2YXIgYXR0cnMgPSBleHRyYWN0X2F0dHIoIGlucHV0ICksXG4gICAgICAgIHJlZnMgPSB7fTtcblxuICAgIGlmICggYXR0cnMgJiYgYXR0cnMucmVmZXJlbmNlcyApXG4gICAgICByZWZzID0gYXR0cnMucmVmZXJlbmNlcztcblxuICAgIHZhciBodG1sID0gY29udmVydF90cmVlX3RvX2h0bWwoIGlucHV0LCByZWZzICwgb3B0aW9ucyApO1xuICAgIG1lcmdlX3RleHRfbm9kZXMoIGh0bWwgKTtcbiAgICByZXR1cm4gaHRtbDtcbiAgfTtcblxuICAvKipcbiAgICogIHRvSFRNTCggbWFya2Rvd24sIFtkaWFsZWN0XSAgKSAtPiBTdHJpbmdcbiAgICogIHRvSFRNTCggbWRfdHJlZSApIC0+IFN0cmluZ1xuICAgKiAgLSBtYXJrZG93biAoU3RyaW5nKTogbWFya2Rvd24gc3RyaW5nIHRvIHBhcnNlXG4gICAqICAtIG1kX3RyZWUgKE1hcmtkb3duLkpzb25NTCk6IHBhcnNlZCBtYXJrZG93biB0cmVlXG4gICAqXG4gICAqICBUYWtlIG1hcmtkb3duIChlaXRoZXIgYXMgYSBzdHJpbmcgb3IgYXMgYSBKc29uTUwgdHJlZSkgYW5kIHJ1biBpdCB0aHJvdWdoXG4gICAqICBbW3RvSFRNTFRyZWVdXSB0aGVuIHR1cm4gaXQgaW50byBhIHdlbGwtZm9ybWF0ZWQgSFRNTCBmcmFnbWVudC5cbiAgICoqL1xuICBNYXJrZG93bi50b0hUTUwgPSBmdW5jdGlvbiB0b0hUTUwoIHNvdXJjZSAsIGRpYWxlY3QgLCBvcHRpb25zICkge1xuICAgIHZhciBpbnB1dCA9IHRoaXMudG9IVE1MVHJlZSggc291cmNlICwgZGlhbGVjdCAsIG9wdGlvbnMgKTtcblxuICAgIHJldHVybiB0aGlzLnJlbmRlckpzb25NTCggaW5wdXQgKTtcbiAgfTtcblxuXG4gIGZ1bmN0aW9uIGVzY2FwZUhUTUwoIHRleHQgKSB7XG4gICAgcmV0dXJuIHRleHQucmVwbGFjZSggLyYvZywgXCImYW1wO1wiIClcbiAgICAgICAgICAgICAgIC5yZXBsYWNlKCAvPC9nLCBcIiZsdDtcIiApXG4gICAgICAgICAgICAgICAucmVwbGFjZSggLz4vZywgXCImZ3Q7XCIgKVxuICAgICAgICAgICAgICAgLnJlcGxhY2UoIC9cIi9nLCBcIiZxdW90O1wiIClcbiAgICAgICAgICAgICAgIC5yZXBsYWNlKCAvJy9nLCBcIiYjMzk7XCIgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbmRlcl90cmVlKCBqc29ubWwgKSB7XG4gICAgLy8gYmFzaWMgY2FzZVxuICAgIGlmICggdHlwZW9mIGpzb25tbCA9PT0gXCJzdHJpbmdcIiApXG4gICAgICByZXR1cm4gZXNjYXBlSFRNTCgganNvbm1sICk7XG5cbiAgICB2YXIgdGFnID0ganNvbm1sLnNoaWZ0KCksXG4gICAgICAgIGF0dHJpYnV0ZXMgPSB7fSxcbiAgICAgICAgY29udGVudCA9IFtdO1xuXG4gICAgaWYgKCBqc29ubWwubGVuZ3RoICYmIHR5cGVvZiBqc29ubWxbIDAgXSA9PT0gXCJvYmplY3RcIiAmJiAhKCBqc29ubWxbIDAgXSBpbnN0YW5jZW9mIEFycmF5ICkgKVxuICAgICAgYXR0cmlidXRlcyA9IGpzb25tbC5zaGlmdCgpO1xuXG4gICAgd2hpbGUgKCBqc29ubWwubGVuZ3RoIClcbiAgICAgIGNvbnRlbnQucHVzaCggcmVuZGVyX3RyZWUoIGpzb25tbC5zaGlmdCgpICkgKTtcblxuICAgIHZhciB0YWdfYXR0cnMgPSBcIlwiO1xuICAgIGZvciAoIHZhciBhIGluIGF0dHJpYnV0ZXMgKVxuICAgICAgdGFnX2F0dHJzICs9IFwiIFwiICsgYSArICc9XCInICsgZXNjYXBlSFRNTCggYXR0cmlidXRlc1sgYSBdICkgKyAnXCInO1xuXG4gICAgLy8gYmUgY2FyZWZ1bCBhYm91dCBhZGRpbmcgd2hpdGVzcGFjZSBoZXJlIGZvciBpbmxpbmUgZWxlbWVudHNcbiAgICBpZiAoIHRhZyA9PT0gXCJpbWdcIiB8fCB0YWcgPT09IFwiYnJcIiB8fCB0YWcgPT09IFwiaHJcIiApXG4gICAgICByZXR1cm4gXCI8XCIrIHRhZyArIHRhZ19hdHRycyArIFwiLz5cIjtcbiAgICBlbHNlXG4gICAgICByZXR1cm4gXCI8XCIrIHRhZyArIHRhZ19hdHRycyArIFwiPlwiICsgY29udGVudC5qb2luKCBcIlwiICkgKyBcIjwvXCIgKyB0YWcgKyBcIj5cIjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbnZlcnRfdHJlZV90b19odG1sKCB0cmVlLCByZWZlcmVuY2VzLCBvcHRpb25zICkge1xuICAgIHZhciBpO1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgLy8gc2hhbGxvdyBjbG9uZVxuICAgIHZhciBqc29ubWwgPSB0cmVlLnNsaWNlKCAwICk7XG5cbiAgICBpZiAoIHR5cGVvZiBvcHRpb25zLnByZXByb2Nlc3NUcmVlTm9kZSA9PT0gXCJmdW5jdGlvblwiIClcbiAgICAgIGpzb25tbCA9IG9wdGlvbnMucHJlcHJvY2Vzc1RyZWVOb2RlKGpzb25tbCwgcmVmZXJlbmNlcyk7XG5cbiAgICAvLyBDbG9uZSBhdHRyaWJ1dGVzIGlmIHRoZXkgZXhpc3RcbiAgICB2YXIgYXR0cnMgPSBleHRyYWN0X2F0dHIoIGpzb25tbCApO1xuICAgIGlmICggYXR0cnMgKSB7XG4gICAgICBqc29ubWxbIDEgXSA9IHt9O1xuICAgICAgZm9yICggaSBpbiBhdHRycyApIHtcbiAgICAgICAganNvbm1sWyAxIF1bIGkgXSA9IGF0dHJzWyBpIF07XG4gICAgICB9XG4gICAgICBhdHRycyA9IGpzb25tbFsgMSBdO1xuICAgIH1cblxuICAgIC8vIGJhc2ljIGNhc2VcbiAgICBpZiAoIHR5cGVvZiBqc29ubWwgPT09IFwic3RyaW5nXCIgKVxuICAgICAgcmV0dXJuIGpzb25tbDtcblxuICAgIC8vIGNvbnZlcnQgdGhpcyBub2RlXG4gICAgc3dpdGNoICgganNvbm1sWyAwIF0gKSB7XG4gICAgY2FzZSBcImhlYWRlclwiOlxuICAgICAganNvbm1sWyAwIF0gPSBcImhcIiArIGpzb25tbFsgMSBdLmxldmVsO1xuICAgICAgZGVsZXRlIGpzb25tbFsgMSBdLmxldmVsO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImJ1bGxldGxpc3RcIjpcbiAgICAgIGpzb25tbFsgMCBdID0gXCJ1bFwiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIm51bWJlcmxpc3RcIjpcbiAgICAgIGpzb25tbFsgMCBdID0gXCJvbFwiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImxpc3RpdGVtXCI6XG4gICAgICBqc29ubWxbIDAgXSA9IFwibGlcIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJwYXJhXCI6XG4gICAgICBqc29ubWxbIDAgXSA9IFwicFwiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIm1hcmtkb3duXCI6XG4gICAgICBqc29ubWxbIDAgXSA9IFwiaHRtbFwiO1xuICAgICAgaWYgKCBhdHRycyApXG4gICAgICAgIGRlbGV0ZSBhdHRycy5yZWZlcmVuY2VzO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImNvZGVfYmxvY2tcIjpcbiAgICAgIGpzb25tbFsgMCBdID0gXCJwcmVcIjtcbiAgICAgIGkgPSBhdHRycyA/IDIgOiAxO1xuICAgICAgdmFyIGNvZGUgPSBbIFwiY29kZVwiIF07XG4gICAgICBjb2RlLnB1c2guYXBwbHkoIGNvZGUsIGpzb25tbC5zcGxpY2UoIGksIGpzb25tbC5sZW5ndGggLSBpICkgKTtcbiAgICAgIGpzb25tbFsgaSBdID0gY29kZTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJpbmxpbmVjb2RlXCI6XG4gICAgICBqc29ubWxbIDAgXSA9IFwiY29kZVwiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImltZ1wiOlxuICAgICAganNvbm1sWyAxIF0uc3JjID0ganNvbm1sWyAxIF0uaHJlZjtcbiAgICAgIGRlbGV0ZSBqc29ubWxbIDEgXS5ocmVmO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImxpbmVicmVha1wiOlxuICAgICAganNvbm1sWyAwIF0gPSBcImJyXCI7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwibGlua1wiOlxuICAgICAganNvbm1sWyAwIF0gPSBcImFcIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJsaW5rX3JlZlwiOlxuICAgICAganNvbm1sWyAwIF0gPSBcImFcIjtcblxuICAgICAgLy8gZ3JhYiB0aGlzIHJlZiBhbmQgY2xlYW4gdXAgdGhlIGF0dHJpYnV0ZSBub2RlXG4gICAgICB2YXIgcmVmID0gcmVmZXJlbmNlc1sgYXR0cnMucmVmIF07XG5cbiAgICAgIC8vIGlmIHRoZSByZWZlcmVuY2UgZXhpc3RzLCBtYWtlIHRoZSBsaW5rXG4gICAgICBpZiAoIHJlZiApIHtcbiAgICAgICAgZGVsZXRlIGF0dHJzLnJlZjtcblxuICAgICAgICAvLyBhZGQgaW4gdGhlIGhyZWYgYW5kIHRpdGxlLCBpZiBwcmVzZW50XG4gICAgICAgIGF0dHJzLmhyZWYgPSByZWYuaHJlZjtcbiAgICAgICAgaWYgKCByZWYudGl0bGUgKVxuICAgICAgICAgIGF0dHJzLnRpdGxlID0gcmVmLnRpdGxlO1xuXG4gICAgICAgIC8vIGdldCByaWQgb2YgdGhlIHVubmVlZGVkIG9yaWdpbmFsIHRleHRcbiAgICAgICAgZGVsZXRlIGF0dHJzLm9yaWdpbmFsO1xuICAgICAgfVxuICAgICAgLy8gdGhlIHJlZmVyZW5jZSBkb2Vzbid0IGV4aXN0LCBzbyByZXZlcnQgdG8gcGxhaW4gdGV4dFxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBhdHRycy5vcmlnaW5hbDtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJpbWdfcmVmXCI6XG4gICAgICBqc29ubWxbIDAgXSA9IFwiaW1nXCI7XG5cbiAgICAgIC8vIGdyYWIgdGhpcyByZWYgYW5kIGNsZWFuIHVwIHRoZSBhdHRyaWJ1dGUgbm9kZVxuICAgICAgdmFyIHJlZiA9IHJlZmVyZW5jZXNbIGF0dHJzLnJlZiBdO1xuXG4gICAgICAvLyBpZiB0aGUgcmVmZXJlbmNlIGV4aXN0cywgbWFrZSB0aGUgbGlua1xuICAgICAgaWYgKCByZWYgKSB7XG4gICAgICAgIGRlbGV0ZSBhdHRycy5yZWY7XG5cbiAgICAgICAgLy8gYWRkIGluIHRoZSBocmVmIGFuZCB0aXRsZSwgaWYgcHJlc2VudFxuICAgICAgICBhdHRycy5zcmMgPSByZWYuaHJlZjtcbiAgICAgICAgaWYgKCByZWYudGl0bGUgKVxuICAgICAgICAgIGF0dHJzLnRpdGxlID0gcmVmLnRpdGxlO1xuXG4gICAgICAgIC8vIGdldCByaWQgb2YgdGhlIHVubmVlZGVkIG9yaWdpbmFsIHRleHRcbiAgICAgICAgZGVsZXRlIGF0dHJzLm9yaWdpbmFsO1xuICAgICAgfVxuICAgICAgLy8gdGhlIHJlZmVyZW5jZSBkb2Vzbid0IGV4aXN0LCBzbyByZXZlcnQgdG8gcGxhaW4gdGV4dFxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBhdHRycy5vcmlnaW5hbDtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIC8vIGNvbnZlcnQgYWxsIHRoZSBjaGlsZHJlblxuICAgIGkgPSAxO1xuXG4gICAgLy8gZGVhbCB3aXRoIHRoZSBhdHRyaWJ1dGUgbm9kZSwgaWYgaXQgZXhpc3RzXG4gICAgaWYgKCBhdHRycyApIHtcbiAgICAgIC8vIGlmIHRoZXJlIGFyZSBrZXlzLCBza2lwIG92ZXIgaXRcbiAgICAgIGZvciAoIHZhciBrZXkgaW4ganNvbm1sWyAxIF0gKSB7XG4gICAgICAgIGkgPSAyO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIC8vIGlmIHRoZXJlIGFyZW4ndCwgcmVtb3ZlIGl0XG4gICAgICBpZiAoIGkgPT09IDEgKVxuICAgICAgICBqc29ubWwuc3BsaWNlKCBpLCAxICk7XG4gICAgfVxuXG4gICAgZm9yICggOyBpIDwganNvbm1sLmxlbmd0aDsgKytpICkge1xuICAgICAganNvbm1sWyBpIF0gPSBjb252ZXJ0X3RyZWVfdG9faHRtbCgganNvbm1sWyBpIF0sIHJlZmVyZW5jZXMsIG9wdGlvbnMgKTtcbiAgICB9XG5cbiAgICByZXR1cm4ganNvbm1sO1xuICB9XG5cblxuICAvLyBtZXJnZXMgYWRqYWNlbnQgdGV4dCBub2RlcyBpbnRvIGEgc2luZ2xlIG5vZGVcbiAgZnVuY3Rpb24gbWVyZ2VfdGV4dF9ub2RlcygganNvbm1sICkge1xuICAgIC8vIHNraXAgdGhlIHRhZyBuYW1lIGFuZCBhdHRyaWJ1dGUgaGFzaFxuICAgIHZhciBpID0gZXh0cmFjdF9hdHRyKCBqc29ubWwgKSA/IDIgOiAxO1xuXG4gICAgd2hpbGUgKCBpIDwganNvbm1sLmxlbmd0aCApIHtcbiAgICAgIC8vIGlmIGl0J3MgYSBzdHJpbmcgY2hlY2sgdGhlIG5leHQgaXRlbSB0b29cbiAgICAgIGlmICggdHlwZW9mIGpzb25tbFsgaSBdID09PSBcInN0cmluZ1wiICkge1xuICAgICAgICBpZiAoIGkgKyAxIDwganNvbm1sLmxlbmd0aCAmJiB0eXBlb2YganNvbm1sWyBpICsgMSBdID09PSBcInN0cmluZ1wiICkge1xuICAgICAgICAgIC8vIG1lcmdlIHRoZSBzZWNvbmQgc3RyaW5nIGludG8gdGhlIGZpcnN0IGFuZCByZW1vdmUgaXRcbiAgICAgICAgICBqc29ubWxbIGkgXSArPSBqc29ubWwuc3BsaWNlKCBpICsgMSwgMSApWyAwIF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgKytpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBpZiBpdCdzIG5vdCBhIHN0cmluZyByZWN1cnNlXG4gICAgICBlbHNlIHtcbiAgICAgICAgbWVyZ2VfdGV4dF9ub2RlcygganNvbm1sWyBpIF0gKTtcbiAgICAgICAgKytpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuXG5cbiAgdmFyIERpYWxlY3RIZWxwZXJzID0ge307XG4gIERpYWxlY3RIZWxwZXJzLmlubGluZV91bnRpbF9jaGFyID0gZnVuY3Rpb24oIHRleHQsIHdhbnQgKSB7XG4gICAgdmFyIGNvbnN1bWVkID0gMCxcbiAgICAgICAgbm9kZXMgPSBbXTtcblxuICAgIHdoaWxlICggdHJ1ZSApIHtcbiAgICAgIGlmICggdGV4dC5jaGFyQXQoIGNvbnN1bWVkICkgPT09IHdhbnQgKSB7XG4gICAgICAgIC8vIEZvdW5kIHRoZSBjaGFyYWN0ZXIgd2Ugd2VyZSBsb29raW5nIGZvclxuICAgICAgICBjb25zdW1lZCsrO1xuICAgICAgICByZXR1cm4gWyBjb25zdW1lZCwgbm9kZXMgXTtcbiAgICAgIH1cblxuICAgICAgaWYgKCBjb25zdW1lZCA+PSB0ZXh0Lmxlbmd0aCApIHtcbiAgICAgICAgLy8gTm8gY2xvc2luZyBjaGFyIGZvdW5kLiBBYm9ydC5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciByZXMgPSB0aGlzLmRpYWxlY3QuaW5saW5lLl9fb25lRWxlbWVudF9fLmNhbGwodGhpcywgdGV4dC5zdWJzdHIoIGNvbnN1bWVkICkgKTtcbiAgICAgIGNvbnN1bWVkICs9IHJlc1sgMCBdO1xuICAgICAgLy8gQWRkIGFueSByZXR1cm5lZCBub2Rlcy5cbiAgICAgIG5vZGVzLnB1c2guYXBwbHkoIG5vZGVzLCByZXMuc2xpY2UoIDEgKSApO1xuICAgIH1cbiAgfTtcblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gbWFrZSBzdWItY2xhc3NpbmcgYSBkaWFsZWN0IGVhc2llclxuICBEaWFsZWN0SGVscGVycy5zdWJjbGFzc0RpYWxlY3QgPSBmdW5jdGlvbiggZCApIHtcbiAgICBmdW5jdGlvbiBCbG9jaygpIHt9XG4gICAgQmxvY2sucHJvdG90eXBlID0gZC5ibG9jaztcbiAgICBmdW5jdGlvbiBJbmxpbmUoKSB7fVxuICAgIElubGluZS5wcm90b3R5cGUgPSBkLmlubGluZTtcblxuICAgIHJldHVybiB7IGJsb2NrOiBuZXcgQmxvY2soKSwgaW5saW5lOiBuZXcgSW5saW5lKCkgfTtcbiAgfTtcblxuXG5cblxuICB2YXIgZm9yRWFjaCA9IE1hcmtkb3duSGVscGVycy5mb3JFYWNoLFxuICAgICAgZXh0cmFjdF9hdHRyID0gTWFya2Rvd25IZWxwZXJzLmV4dHJhY3RfYXR0cixcbiAgICAgIG1rX2Jsb2NrID0gTWFya2Rvd25IZWxwZXJzLm1rX2Jsb2NrLFxuICAgICAgaXNFbXB0eSA9IE1hcmtkb3duSGVscGVycy5pc0VtcHR5LFxuICAgICAgaW5saW5lX3VudGlsX2NoYXIgPSBEaWFsZWN0SGVscGVycy5pbmxpbmVfdW50aWxfY2hhcjtcblxuICAvKipcbiAgICogR3J1YmVyIGRpYWxlY3RcbiAgICpcbiAgICogVGhlIGRlZmF1bHQgZGlhbGVjdCB0aGF0IGZvbGxvd3MgdGhlIHJ1bGVzIHNldCBvdXQgYnkgSm9obiBHcnViZXInc1xuICAgKiBtYXJrZG93bi5wbCBhcyBjbG9zZWx5IGFzIHBvc3NpYmxlLiBXZWxsIGFjdHVhbGx5IHdlIGZvbGxvdyB0aGUgYmVoYXZpb3VyIG9mXG4gICAqIHRoYXQgc2NyaXB0IHdoaWNoIGluIHNvbWUgcGxhY2VzIGlzIG5vdCBleGFjdGx5IHdoYXQgdGhlIHN5bnRheCB3ZWIgcGFnZVxuICAgKiBzYXlzLlxuICAgKiovXG4gIHZhciBHcnViZXIgPSB7XG4gICAgYmxvY2s6IHtcbiAgICAgIGF0eEhlYWRlcjogZnVuY3Rpb24gYXR4SGVhZGVyKCBibG9jaywgbmV4dCApIHtcbiAgICAgICAgdmFyIG0gPSBibG9jay5tYXRjaCggL14oI3sxLDZ9KVxccyooLio/KVxccyojKlxccyooPzpcXG58JCkvICk7XG5cbiAgICAgICAgaWYgKCAhbSApXG4gICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcblxuICAgICAgICB2YXIgaGVhZGVyID0gWyBcImhlYWRlclwiLCB7IGxldmVsOiBtWyAxIF0ubGVuZ3RoIH0gXTtcbiAgICAgICAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoaGVhZGVyLCB0aGlzLnByb2Nlc3NJbmxpbmUobVsgMiBdKSk7XG5cbiAgICAgICAgaWYgKCBtWzBdLmxlbmd0aCA8IGJsb2NrLmxlbmd0aCApXG4gICAgICAgICAgbmV4dC51bnNoaWZ0KCBta19ibG9jayggYmxvY2suc3Vic3RyKCBtWzBdLmxlbmd0aCApLCBibG9jay50cmFpbGluZywgYmxvY2subGluZU51bWJlciArIDIgKSApO1xuXG4gICAgICAgIHJldHVybiBbIGhlYWRlciBdO1xuICAgICAgfSxcblxuICAgICAgc2V0ZXh0SGVhZGVyOiBmdW5jdGlvbiBzZXRleHRIZWFkZXIoIGJsb2NrLCBuZXh0ICkge1xuICAgICAgICB2YXIgbSA9IGJsb2NrLm1hdGNoKCAvXiguKilcXG4oWy09XSlcXDJcXDIrKD86XFxufCQpLyApO1xuXG4gICAgICAgIGlmICggIW0gKVxuICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgICAgICAgdmFyIGxldmVsID0gKCBtWyAyIF0gPT09IFwiPVwiICkgPyAxIDogMixcbiAgICAgICAgICAgIGhlYWRlciA9IFsgXCJoZWFkZXJcIiwgeyBsZXZlbCA6IGxldmVsIH0sIG1bIDEgXSBdO1xuXG4gICAgICAgIGlmICggbVswXS5sZW5ndGggPCBibG9jay5sZW5ndGggKVxuICAgICAgICAgIG5leHQudW5zaGlmdCggbWtfYmxvY2soIGJsb2NrLnN1YnN0ciggbVswXS5sZW5ndGggKSwgYmxvY2sudHJhaWxpbmcsIGJsb2NrLmxpbmVOdW1iZXIgKyAyICkgKTtcblxuICAgICAgICByZXR1cm4gWyBoZWFkZXIgXTtcbiAgICAgIH0sXG5cbiAgICAgIGNvZGU6IGZ1bmN0aW9uIGNvZGUoIGJsb2NrLCBuZXh0ICkge1xuICAgICAgICAvLyB8ICAgIEZvb1xuICAgICAgICAvLyB8YmFyXG4gICAgICAgIC8vIHNob3VsZCBiZSBhIGNvZGUgYmxvY2sgZm9sbG93ZWQgYnkgYSBwYXJhZ3JhcGguIEZ1blxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGVyZSBtaWdodCBhbHNvIGJlIGFkamFjZW50IGNvZGUgYmxvY2sgdG8gbWVyZ2UuXG5cbiAgICAgICAgdmFyIHJldCA9IFtdLFxuICAgICAgICAgICAgcmUgPSAvXig/OiB7MCwzfVxcdHwgezR9KSguKilcXG4/LztcblxuICAgICAgICAvLyA0IHNwYWNlcyArIGNvbnRlbnRcbiAgICAgICAgaWYgKCAhYmxvY2subWF0Y2goIHJlICkgKVxuICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgICAgICAgYmxvY2tfc2VhcmNoOlxuICAgICAgICBkbyB7XG4gICAgICAgICAgLy8gTm93IHB1bGwgb3V0IHRoZSByZXN0IG9mIHRoZSBsaW5lc1xuICAgICAgICAgIHZhciBiID0gdGhpcy5sb29wX3JlX292ZXJfYmxvY2soXG4gICAgICAgICAgICAgICAgICAgIHJlLCBibG9jay52YWx1ZU9mKCksIGZ1bmN0aW9uKCBtICkgeyByZXQucHVzaCggbVsxXSApOyB9ICk7XG5cbiAgICAgICAgICBpZiAoIGIubGVuZ3RoICkge1xuICAgICAgICAgICAgLy8gQ2FzZSBhbGx1ZGVkIHRvIGluIGZpcnN0IGNvbW1lbnQuIHB1c2ggaXQgYmFjayBvbiBhcyBhIG5ldyBibG9ja1xuICAgICAgICAgICAgbmV4dC51bnNoaWZ0KCBta19ibG9jayhiLCBibG9jay50cmFpbGluZykgKTtcbiAgICAgICAgICAgIGJyZWFrIGJsb2NrX3NlYXJjaDtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoIG5leHQubGVuZ3RoICkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgdGhlIG5leHQgYmxvY2sgLSBpdCBtaWdodCBiZSBjb2RlIHRvb1xuICAgICAgICAgICAgaWYgKCAhbmV4dFswXS5tYXRjaCggcmUgKSApXG4gICAgICAgICAgICAgIGJyZWFrIGJsb2NrX3NlYXJjaDtcblxuICAgICAgICAgICAgLy8gUHVsbCBob3cgaG93IG1hbnkgYmxhbmtzIGxpbmVzIGZvbGxvdyAtIG1pbnVzIHR3byB0byBhY2NvdW50IGZvciAuam9pblxuICAgICAgICAgICAgcmV0LnB1c2ggKCBibG9jay50cmFpbGluZy5yZXBsYWNlKC9bXlxcbl0vZywgXCJcIikuc3Vic3RyaW5nKDIpICk7XG5cbiAgICAgICAgICAgIGJsb2NrID0gbmV4dC5zaGlmdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGJyZWFrIGJsb2NrX3NlYXJjaDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKCB0cnVlICk7XG5cbiAgICAgICAgcmV0dXJuIFsgWyBcImNvZGVfYmxvY2tcIiwgcmV0LmpvaW4oXCJcXG5cIikgXSBdO1xuICAgICAgfSxcblxuICAgICAgaG9yaXpSdWxlOiBmdW5jdGlvbiBob3JpelJ1bGUoIGJsb2NrLCBuZXh0ICkge1xuICAgICAgICAvLyB0aGlzIG5lZWRzIHRvIGZpbmQgYW55IGhyIGluIHRoZSBibG9jayB0byBoYW5kbGUgYWJ1dHRpbmcgYmxvY2tzXG4gICAgICAgIHZhciBtID0gYmxvY2subWF0Y2goIC9eKD86KFtcXHNcXFNdKj8pXFxuKT9bIFxcdF0qKFstXypdKSg/OlsgXFx0XSpcXDIpezIsfVsgXFx0XSooPzpcXG4oW1xcc1xcU10qKSk/JC8gKTtcblxuICAgICAgICBpZiAoICFtIClcbiAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuXG4gICAgICAgIHZhciBqc29ubWwgPSBbIFsgXCJoclwiIF0gXTtcblxuICAgICAgICAvLyBpZiB0aGVyZSdzIGEgbGVhZGluZyBhYnV0dGluZyBibG9jaywgcHJvY2VzcyBpdFxuICAgICAgICBpZiAoIG1bIDEgXSApIHtcbiAgICAgICAgICB2YXIgY29udGFpbmVkID0gbWtfYmxvY2soIG1bIDEgXSwgXCJcIiwgYmxvY2subGluZU51bWJlciApO1xuICAgICAgICAgIGpzb25tbC51bnNoaWZ0LmFwcGx5KCBqc29ubWwsIHRoaXMudG9UcmVlKCBjb250YWluZWQsIFtdICkgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoZXJlJ3MgYSB0cmFpbGluZyBhYnV0dGluZyBibG9jaywgc3RpY2sgaXQgaW50byBuZXh0XG4gICAgICAgIGlmICggbVsgMyBdIClcbiAgICAgICAgICBuZXh0LnVuc2hpZnQoIG1rX2Jsb2NrKCBtWyAzIF0sIGJsb2NrLnRyYWlsaW5nLCBibG9jay5saW5lTnVtYmVyICsgMSApICk7XG5cbiAgICAgICAgcmV0dXJuIGpzb25tbDtcbiAgICAgIH0sXG5cbiAgICAgIC8vIFRoZXJlIGFyZSB0d28gdHlwZXMgb2YgbGlzdHMuIFRpZ2h0IGFuZCBsb29zZS4gVGlnaHQgbGlzdHMgaGF2ZSBubyB3aGl0ZXNwYWNlXG4gICAgICAvLyBiZXR3ZWVuIHRoZSBpdGVtcyAoYW5kIHJlc3VsdCBpbiB0ZXh0IGp1c3QgaW4gdGhlIDxsaT4pIGFuZCBsb29zZSBsaXN0cyxcbiAgICAgIC8vIHdoaWNoIGhhdmUgYW4gZW1wdHkgbGluZSBiZXR3ZWVuIGxpc3QgaXRlbXMsIHJlc3VsdGluZyBpbiAob25lIG9yIG1vcmUpXG4gICAgICAvLyBwYXJhZ3JhcGhzIGluc2lkZSB0aGUgPGxpPi5cbiAgICAgIC8vXG4gICAgICAvLyBUaGVyZSBhcmUgYWxsIHNvcnRzIHdlaXJkIGVkZ2UgY2FzZXMgYWJvdXQgdGhlIG9yaWdpbmFsIG1hcmtkb3duLnBsJ3NcbiAgICAgIC8vIGhhbmRsaW5nIG9mIGxpc3RzOlxuICAgICAgLy9cbiAgICAgIC8vICogTmVzdGVkIGxpc3RzIGFyZSBzdXBwb3NlZCB0byBiZSBpbmRlbnRlZCBieSBmb3VyIGNoYXJzIHBlciBsZXZlbC4gQnV0XG4gICAgICAvLyAgIGlmIHRoZXkgYXJlbid0LCB5b3UgY2FuIGdldCBhIG5lc3RlZCBsaXN0IGJ5IGluZGVudGluZyBieSBsZXNzIHRoYW5cbiAgICAgIC8vICAgZm91ciBzbyBsb25nIGFzIHRoZSBpbmRlbnQgZG9lc24ndCBtYXRjaCBhbiBpbmRlbnQgb2YgYW4gZXhpc3RpbmcgbGlzdFxuICAgICAgLy8gICBpdGVtIGluIHRoZSAnbmVzdCBzdGFjaycuXG4gICAgICAvL1xuICAgICAgLy8gKiBUaGUgdHlwZSBvZiB0aGUgbGlzdCAoYnVsbGV0IG9yIG51bWJlcikgaXMgY29udHJvbGxlZCBqdXN0IGJ5IHRoZVxuICAgICAgLy8gICAgZmlyc3QgaXRlbSBhdCB0aGUgaW5kZW50LiBTdWJzZXF1ZW50IGNoYW5nZXMgYXJlIGlnbm9yZWQgdW5sZXNzIHRoZXlcbiAgICAgIC8vICAgIGFyZSBmb3IgbmVzdGVkIGxpc3RzXG4gICAgICAvL1xuICAgICAgbGlzdHM6IChmdW5jdGlvbiggKSB7XG4gICAgICAgIC8vIFVzZSBhIGNsb3N1cmUgdG8gaGlkZSBhIGZldyB2YXJpYWJsZXMuXG4gICAgICAgIHZhciBhbnlfbGlzdCA9IFwiWyorLV18XFxcXGQrXFxcXC5cIixcbiAgICAgICAgICAgIGJ1bGxldF9saXN0ID0gL1sqKy1dLyxcbiAgICAgICAgICAgIC8vIENhcHR1cmUgbGVhZGluZyBpbmRlbnQgYXMgaXQgbWF0dGVycyBmb3IgZGV0ZXJtaW5pbmcgbmVzdGVkIGxpc3RzLlxuICAgICAgICAgICAgaXNfbGlzdF9yZSA9IG5ldyBSZWdFeHAoIFwiXiggezAsM30pKFwiICsgYW55X2xpc3QgKyBcIilbIFxcdF0rXCIgKSxcbiAgICAgICAgICAgIGluZGVudF9yZSA9IFwiKD86IHswLDN9XFxcXHR8IHs0fSlcIjtcblxuICAgICAgICAvLyBUT0RPOiBDYWNoZSB0aGlzIHJlZ2V4cCBmb3IgY2VydGFpbiBkZXB0aHMuXG4gICAgICAgIC8vIENyZWF0ZSBhIHJlZ2V4cCBzdWl0YWJsZSBmb3IgbWF0Y2hpbmcgYW4gbGkgZm9yIGEgZ2l2ZW4gc3RhY2sgZGVwdGhcbiAgICAgICAgZnVuY3Rpb24gcmVnZXhfZm9yX2RlcHRoKCBkZXB0aCApIHtcblxuICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKFxuICAgICAgICAgICAgLy8gbVsxXSA9IGluZGVudCwgbVsyXSA9IGxpc3RfdHlwZVxuICAgICAgICAgICAgXCIoPzpeKFwiICsgaW5kZW50X3JlICsgXCJ7MCxcIiArIGRlcHRoICsgXCJ9IHswLDN9KShcIiArIGFueV9saXN0ICsgXCIpXFxcXHMrKXxcIiArXG4gICAgICAgICAgICAvLyBtWzNdID0gY29udFxuICAgICAgICAgICAgXCIoXlwiICsgaW5kZW50X3JlICsgXCJ7MCxcIiArIChkZXB0aC0xKSArIFwifVsgXXswLDR9KVwiXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBleHBhbmRfdGFiKCBpbnB1dCApIHtcbiAgICAgICAgICByZXR1cm4gaW5wdXQucmVwbGFjZSggLyB7MCwzfVxcdC9nLCBcIiAgICBcIiApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIGlubGluZSBjb250ZW50IGBpbmxpbmVgIHRvIGBsaWAuIGlubGluZSBjb21lcyBmcm9tIHByb2Nlc3NJbmxpbmVcbiAgICAgICAgLy8gc28gaXMgYW4gYXJyYXkgb2YgY29udGVudFxuICAgICAgICBmdW5jdGlvbiBhZGQobGksIGxvb3NlLCBpbmxpbmUsIG5sKSB7XG4gICAgICAgICAgaWYgKCBsb29zZSApIHtcbiAgICAgICAgICAgIGxpLnB1c2goIFsgXCJwYXJhXCIgXS5jb25jYXQoaW5saW5lKSApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBIbW1tLCBzaG91bGQgdGhpcyBiZSBhbnkgYmxvY2sgbGV2ZWwgZWxlbWVudCBvciBqdXN0IHBhcmFzP1xuICAgICAgICAgIHZhciBhZGRfdG8gPSBsaVtsaS5sZW5ndGggLTFdIGluc3RhbmNlb2YgQXJyYXkgJiYgbGlbbGkubGVuZ3RoIC0gMV1bMF0gPT09IFwicGFyYVwiXG4gICAgICAgICAgICAgICAgICAgICA/IGxpW2xpLmxlbmd0aCAtMV1cbiAgICAgICAgICAgICAgICAgICAgIDogbGk7XG5cbiAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBhbHJlYWR5IHNvbWUgY29udGVudCBpbiB0aGlzIGxpc3QsIGFkZCB0aGUgbmV3IGxpbmUgaW5cbiAgICAgICAgICBpZiAoIG5sICYmIGxpLmxlbmd0aCA+IDEgKVxuICAgICAgICAgICAgaW5saW5lLnVuc2hpZnQobmwpO1xuXG4gICAgICAgICAgZm9yICggdmFyIGkgPSAwOyBpIDwgaW5saW5lLmxlbmd0aDsgaSsrICkge1xuICAgICAgICAgICAgdmFyIHdoYXQgPSBpbmxpbmVbaV0sXG4gICAgICAgICAgICAgICAgaXNfc3RyID0gdHlwZW9mIHdoYXQgPT09IFwic3RyaW5nXCI7XG4gICAgICAgICAgICBpZiAoIGlzX3N0ciAmJiBhZGRfdG8ubGVuZ3RoID4gMSAmJiB0eXBlb2YgYWRkX3RvW2FkZF90by5sZW5ndGgtMV0gPT09IFwic3RyaW5nXCIgKVxuICAgICAgICAgICAgICBhZGRfdG9bIGFkZF90by5sZW5ndGgtMSBdICs9IHdoYXQ7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgIGFkZF90by5wdXNoKCB3aGF0ICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gY29udGFpbmVkIG1lYW5zIGhhdmUgYW4gaW5kZW50IGdyZWF0ZXIgdGhhbiB0aGUgY3VycmVudCBvbmUuIE9uXG4gICAgICAgIC8vICpldmVyeSogbGluZSBpbiB0aGUgYmxvY2tcbiAgICAgICAgZnVuY3Rpb24gZ2V0X2NvbnRhaW5lZF9ibG9ja3MoIGRlcHRoLCBibG9ja3MgKSB7XG5cbiAgICAgICAgICB2YXIgcmUgPSBuZXcgUmVnRXhwKCBcIl4oXCIgKyBpbmRlbnRfcmUgKyBcIntcIiArIGRlcHRoICsgXCJ9Lio/XFxcXG4/KSokXCIgKSxcbiAgICAgICAgICAgICAgcmVwbGFjZSA9IG5ldyBSZWdFeHAoXCJeXCIgKyBpbmRlbnRfcmUgKyBcIntcIiArIGRlcHRoICsgXCJ9XCIsIFwiZ21cIiksXG4gICAgICAgICAgICAgIHJldCA9IFtdO1xuXG4gICAgICAgICAgd2hpbGUgKCBibG9ja3MubGVuZ3RoID4gMCApIHtcbiAgICAgICAgICAgIGlmICggcmUuZXhlYyggYmxvY2tzWzBdICkgKSB7XG4gICAgICAgICAgICAgIHZhciBiID0gYmxvY2tzLnNoaWZ0KCksXG4gICAgICAgICAgICAgICAgICAvLyBOb3cgcmVtb3ZlIHRoYXQgaW5kZW50XG4gICAgICAgICAgICAgICAgICB4ID0gYi5yZXBsYWNlKCByZXBsYWNlLCBcIlwiKTtcblxuICAgICAgICAgICAgICByZXQucHVzaCggbWtfYmxvY2soIHgsIGIudHJhaWxpbmcsIGIubGluZU51bWJlciApICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcGFzc2VkIHRvIHN0YWNrLmZvckVhY2ggdG8gdHVybiBsaXN0IGl0ZW1zIHVwIHRoZSBzdGFjayBpbnRvIHBhcmFzXG4gICAgICAgIGZ1bmN0aW9uIHBhcmFncmFwaGlmeShzLCBpLCBzdGFjaykge1xuICAgICAgICAgIHZhciBsaXN0ID0gcy5saXN0O1xuICAgICAgICAgIHZhciBsYXN0X2xpID0gbGlzdFtsaXN0Lmxlbmd0aC0xXTtcblxuICAgICAgICAgIGlmICggbGFzdF9saVsxXSBpbnN0YW5jZW9mIEFycmF5ICYmIGxhc3RfbGlbMV1bMF0gPT09IFwicGFyYVwiIClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBpZiAoIGkgKyAxID09PSBzdGFjay5sZW5ndGggKSB7XG4gICAgICAgICAgICAvLyBMYXN0IHN0YWNrIGZyYW1lXG4gICAgICAgICAgICAvLyBLZWVwIHRoZSBzYW1lIGFycmF5LCBidXQgcmVwbGFjZSB0aGUgY29udGVudHNcbiAgICAgICAgICAgIGxhc3RfbGkucHVzaCggW1wicGFyYVwiXS5jb25jYXQoIGxhc3RfbGkuc3BsaWNlKDEsIGxhc3RfbGkubGVuZ3RoIC0gMSkgKSApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBzdWJsaXN0ID0gbGFzdF9saS5wb3AoKTtcbiAgICAgICAgICAgIGxhc3RfbGkucHVzaCggW1wicGFyYVwiXS5jb25jYXQoIGxhc3RfbGkuc3BsaWNlKDEsIGxhc3RfbGkubGVuZ3RoIC0gMSkgKSwgc3VibGlzdCApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoZSBtYXRjaGVyIGZ1bmN0aW9uXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiggYmxvY2ssIG5leHQgKSB7XG4gICAgICAgICAgdmFyIG0gPSBibG9jay5tYXRjaCggaXNfbGlzdF9yZSApO1xuICAgICAgICAgIGlmICggIW0gKVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcblxuICAgICAgICAgIGZ1bmN0aW9uIG1ha2VfbGlzdCggbSApIHtcbiAgICAgICAgICAgIHZhciBsaXN0ID0gYnVsbGV0X2xpc3QuZXhlYyggbVsyXSApXG4gICAgICAgICAgICAgICAgICAgICA/IFtcImJ1bGxldGxpc3RcIl1cbiAgICAgICAgICAgICAgICAgICAgIDogW1wibnVtYmVybGlzdFwiXTtcblxuICAgICAgICAgICAgc3RhY2sucHVzaCggeyBsaXN0OiBsaXN0LCBpbmRlbnQ6IG1bMV0gfSApO1xuICAgICAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgICAgICAgfVxuXG5cbiAgICAgICAgICB2YXIgc3RhY2sgPSBbXSwgLy8gU3RhY2sgb2YgbGlzdHMgZm9yIG5lc3RpbmcuXG4gICAgICAgICAgICAgIGxpc3QgPSBtYWtlX2xpc3QoIG0gKSxcbiAgICAgICAgICAgICAgbGFzdF9saSxcbiAgICAgICAgICAgICAgbG9vc2UgPSBmYWxzZSxcbiAgICAgICAgICAgICAgcmV0ID0gWyBzdGFja1swXS5saXN0IF0sXG4gICAgICAgICAgICAgIGk7XG5cbiAgICAgICAgICAvLyBMb29wIHRvIHNlYXJjaCBvdmVyIGJsb2NrIGxvb2tpbmcgZm9yIGlubmVyIGJsb2NrIGVsZW1lbnRzIGFuZCBsb29zZSBsaXN0c1xuICAgICAgICAgIGxvb3NlX3NlYXJjaDpcbiAgICAgICAgICB3aGlsZSAoIHRydWUgKSB7XG4gICAgICAgICAgICAvLyBTcGxpdCBpbnRvIGxpbmVzIHByZXNlcnZpbmcgbmV3IGxpbmVzIGF0IGVuZCBvZiBsaW5lXG4gICAgICAgICAgICB2YXIgbGluZXMgPSBibG9jay5zcGxpdCggLyg/PVxcbikvICk7XG5cbiAgICAgICAgICAgIC8vIFdlIGhhdmUgdG8gZ3JhYiBhbGwgbGluZXMgZm9yIGEgbGkgYW5kIGNhbGwgcHJvY2Vzc0lubGluZSBvbiB0aGVtXG4gICAgICAgICAgICAvLyBvbmNlIGFzIHRoZXJlIGFyZSBzb21lIGlubGluZSB0aGluZ3MgdGhhdCBjYW4gc3BhbiBsaW5lcy5cbiAgICAgICAgICAgIHZhciBsaV9hY2N1bXVsYXRlID0gXCJcIiwgbmwgPSBcIlwiO1xuXG4gICAgICAgICAgICAvLyBMb29wIG92ZXIgdGhlIGxpbmVzIGluIHRoaXMgYmxvY2sgbG9va2luZyBmb3IgdGlnaHQgbGlzdHMuXG4gICAgICAgICAgICB0aWdodF9zZWFyY2g6XG4gICAgICAgICAgICBmb3IgKCB2YXIgbGluZV9ubyA9IDA7IGxpbmVfbm8gPCBsaW5lcy5sZW5ndGg7IGxpbmVfbm8rKyApIHtcbiAgICAgICAgICAgICAgbmwgPSBcIlwiO1xuICAgICAgICAgICAgICB2YXIgbCA9IGxpbmVzW2xpbmVfbm9dLnJlcGxhY2UoL15cXG4vLCBmdW5jdGlvbihuKSB7IG5sID0gbjsgcmV0dXJuIFwiXCI7IH0pO1xuXG5cbiAgICAgICAgICAgICAgLy8gVE9ETzogcmVhbGx5IHNob3VsZCBjYWNoZSB0aGlzXG4gICAgICAgICAgICAgIHZhciBsaW5lX3JlID0gcmVnZXhfZm9yX2RlcHRoKCBzdGFjay5sZW5ndGggKTtcblxuICAgICAgICAgICAgICBtID0gbC5tYXRjaCggbGluZV9yZSApO1xuICAgICAgICAgICAgICAvL3ByaW50KCBcImxpbmU6XCIsIHVuZXZhbChsKSwgXCJcXG5saW5lIG1hdGNoOlwiLCB1bmV2YWwobSkgKTtcblxuICAgICAgICAgICAgICAvLyBXZSBoYXZlIGEgbGlzdCBpdGVtXG4gICAgICAgICAgICAgIGlmICggbVsxXSAhPT0gdW5kZWZpbmVkICkge1xuICAgICAgICAgICAgICAgIC8vIFByb2Nlc3MgdGhlIHByZXZpb3VzIGxpc3QgaXRlbSwgaWYgYW55XG4gICAgICAgICAgICAgICAgaWYgKCBsaV9hY2N1bXVsYXRlLmxlbmd0aCApIHtcbiAgICAgICAgICAgICAgICAgIGFkZCggbGFzdF9saSwgbG9vc2UsIHRoaXMucHJvY2Vzc0lubGluZSggbGlfYWNjdW11bGF0ZSApLCBubCApO1xuICAgICAgICAgICAgICAgICAgLy8gTG9vc2UgbW9kZSB3aWxsIGhhdmUgYmVlbiBkZWFsdCB3aXRoLiBSZXNldCBpdFxuICAgICAgICAgICAgICAgICAgbG9vc2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgIGxpX2FjY3VtdWxhdGUgPSBcIlwiO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG1bMV0gPSBleHBhbmRfdGFiKCBtWzFdICk7XG4gICAgICAgICAgICAgICAgdmFyIHdhbnRlZF9kZXB0aCA9IE1hdGguZmxvb3IobVsxXS5sZW5ndGgvNCkrMTtcbiAgICAgICAgICAgICAgICAvL3ByaW50KCBcIndhbnQ6XCIsIHdhbnRlZF9kZXB0aCwgXCJzdGFjazpcIiwgc3RhY2subGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBpZiAoIHdhbnRlZF9kZXB0aCA+IHN0YWNrLmxlbmd0aCApIHtcbiAgICAgICAgICAgICAgICAgIC8vIERlZXAgZW5vdWdoIGZvciBhIG5lc3RlZCBsaXN0IG91dHJpZ2h0XG4gICAgICAgICAgICAgICAgICAvL3ByaW50ICggXCJuZXcgbmVzdGVkIGxpc3RcIiApO1xuICAgICAgICAgICAgICAgICAgbGlzdCA9IG1ha2VfbGlzdCggbSApO1xuICAgICAgICAgICAgICAgICAgbGFzdF9saS5wdXNoKCBsaXN0ICk7XG4gICAgICAgICAgICAgICAgICBsYXN0X2xpID0gbGlzdFsxXSA9IFsgXCJsaXN0aXRlbVwiIF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgLy8gV2UgYXJlbid0IGRlZXAgZW5vdWdoIHRvIGJlIHN0cmljdGx5IGEgbmV3IGxldmVsLiBUaGlzIGlzXG4gICAgICAgICAgICAgICAgICAvLyB3aGVyZSBNZC5wbCBnb2VzIG51dHMuIElmIHRoZSBpbmRlbnQgbWF0Y2hlcyBhIGxldmVsIGluIHRoZVxuICAgICAgICAgICAgICAgICAgLy8gc3RhY2ssIHB1dCBpdCB0aGVyZSwgZWxzZSBwdXQgaXQgb25lIGRlZXBlciB0aGVuIHRoZVxuICAgICAgICAgICAgICAgICAgLy8gd2FudGVkX2RlcHRoIGRlc2VydmVzLlxuICAgICAgICAgICAgICAgICAgdmFyIGZvdW5kID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICBmb3IgKCBpID0gMDsgaSA8IHN0YWNrLmxlbmd0aDsgaSsrICkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIHN0YWNrWyBpIF0uaW5kZW50ICE9PSBtWzFdIClcbiAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgICAgICBsaXN0ID0gc3RhY2tbIGkgXS5saXN0O1xuICAgICAgICAgICAgICAgICAgICBzdGFjay5zcGxpY2UoIGkrMSwgc3RhY2subGVuZ3RoIC0gKGkrMSkgKTtcbiAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgaWYgKCFmb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICAvL3ByaW50KFwibm90IGZvdW5kLiBsOlwiLCB1bmV2YWwobCkpO1xuICAgICAgICAgICAgICAgICAgICB3YW50ZWRfZGVwdGgrKztcbiAgICAgICAgICAgICAgICAgICAgaWYgKCB3YW50ZWRfZGVwdGggPD0gc3RhY2subGVuZ3RoICkge1xuICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnNwbGljZSh3YW50ZWRfZGVwdGgsIHN0YWNrLmxlbmd0aCAtIHdhbnRlZF9kZXB0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgLy9wcmludChcIkRlc2lyZWQgZGVwdGggbm93XCIsIHdhbnRlZF9kZXB0aCwgXCJzdGFjazpcIiwgc3RhY2subGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgICBsaXN0ID0gc3RhY2tbd2FudGVkX2RlcHRoLTFdLmxpc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgLy9wcmludChcImxpc3Q6XCIsIHVuZXZhbChsaXN0KSApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIC8vcHJpbnQgKFwibWFkZSBuZXcgc3RhY2sgZm9yIG1lc3N5IGluZGVudFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICBsaXN0ID0gbWFrZV9saXN0KG0pO1xuICAgICAgICAgICAgICAgICAgICAgIGxhc3RfbGkucHVzaChsaXN0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAvL3ByaW50KCB1bmV2YWwobGlzdCksIFwibGFzdFwiLCBsaXN0ID09PSBzdGFja1tzdGFjay5sZW5ndGgtMV0ubGlzdCApO1xuICAgICAgICAgICAgICAgICAgbGFzdF9saSA9IFsgXCJsaXN0aXRlbVwiIF07XG4gICAgICAgICAgICAgICAgICBsaXN0LnB1c2gobGFzdF9saSk7XG4gICAgICAgICAgICAgICAgfSAvLyBlbmQgZGVwdGggb2Ygc2hlbmVnYWluc1xuICAgICAgICAgICAgICAgIG5sID0gXCJcIjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIEFkZCBjb250ZW50XG4gICAgICAgICAgICAgIGlmICggbC5sZW5ndGggPiBtWzBdLmxlbmd0aCApXG4gICAgICAgICAgICAgICAgbGlfYWNjdW11bGF0ZSArPSBubCArIGwuc3Vic3RyKCBtWzBdLmxlbmd0aCApO1xuICAgICAgICAgICAgfSAvLyB0aWdodF9zZWFyY2hcblxuICAgICAgICAgICAgaWYgKCBsaV9hY2N1bXVsYXRlLmxlbmd0aCApIHtcbiAgICAgICAgICAgICAgYWRkKCBsYXN0X2xpLCBsb29zZSwgdGhpcy5wcm9jZXNzSW5saW5lKCBsaV9hY2N1bXVsYXRlICksIG5sICk7XG4gICAgICAgICAgICAgIC8vIExvb3NlIG1vZGUgd2lsbCBoYXZlIGJlZW4gZGVhbHQgd2l0aC4gUmVzZXQgaXRcbiAgICAgICAgICAgICAgbG9vc2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgbGlfYWNjdW11bGF0ZSA9IFwiXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIExvb2sgYXQgdGhlIG5leHQgYmxvY2sgLSB3ZSBtaWdodCBoYXZlIGEgbG9vc2UgbGlzdC4gT3IgYW4gZXh0cmFcbiAgICAgICAgICAgIC8vIHBhcmFncmFwaCBmb3IgdGhlIGN1cnJlbnQgbGlcbiAgICAgICAgICAgIHZhciBjb250YWluZWQgPSBnZXRfY29udGFpbmVkX2Jsb2Nrcyggc3RhY2subGVuZ3RoLCBuZXh0ICk7XG5cbiAgICAgICAgICAgIC8vIERlYWwgd2l0aCBjb2RlIGJsb2NrcyBvciBwcm9wZXJseSBuZXN0ZWQgbGlzdHNcbiAgICAgICAgICAgIGlmICggY29udGFpbmVkLmxlbmd0aCA+IDAgKSB7XG4gICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSBhbGwgbGlzdGl0ZW1zIHVwIHRoZSBzdGFjayBhcmUgcGFyYWdyYXBoc1xuICAgICAgICAgICAgICBmb3JFYWNoKCBzdGFjaywgcGFyYWdyYXBoaWZ5LCB0aGlzKTtcblxuICAgICAgICAgICAgICBsYXN0X2xpLnB1c2guYXBwbHkoIGxhc3RfbGksIHRoaXMudG9UcmVlKCBjb250YWluZWQsIFtdICkgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIG5leHRfYmxvY2sgPSBuZXh0WzBdICYmIG5leHRbMF0udmFsdWVPZigpIHx8IFwiXCI7XG5cbiAgICAgICAgICAgIGlmICggbmV4dF9ibG9jay5tYXRjaChpc19saXN0X3JlKSB8fCBuZXh0X2Jsb2NrLm1hdGNoKCAvXiAvICkgKSB7XG4gICAgICAgICAgICAgIGJsb2NrID0gbmV4dC5zaGlmdCgpO1xuXG4gICAgICAgICAgICAgIC8vIENoZWNrIGZvciBhbiBIUiBmb2xsb3dpbmcgYSBsaXN0OiBmZWF0dXJlcy9saXN0cy9ocl9hYnV0dGluZ1xuICAgICAgICAgICAgICB2YXIgaHIgPSB0aGlzLmRpYWxlY3QuYmxvY2suaG9yaXpSdWxlKCBibG9jaywgbmV4dCApO1xuXG4gICAgICAgICAgICAgIGlmICggaHIgKSB7XG4gICAgICAgICAgICAgICAgcmV0LnB1c2guYXBwbHkocmV0LCBocik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgYWxsIGxpc3RpdGVtcyB1cCB0aGUgc3RhY2sgYXJlIHBhcmFncmFwaHNcbiAgICAgICAgICAgICAgZm9yRWFjaCggc3RhY2ssIHBhcmFncmFwaGlmeSwgdGhpcyk7XG5cbiAgICAgICAgICAgICAgbG9vc2UgPSB0cnVlO1xuICAgICAgICAgICAgICBjb250aW51ZSBsb29zZV9zZWFyY2g7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9IC8vIGxvb3NlX3NlYXJjaFxuXG4gICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfTtcbiAgICAgIH0pKCksXG5cbiAgICAgIGJsb2NrcXVvdGU6IGZ1bmN0aW9uIGJsb2NrcXVvdGUoIGJsb2NrLCBuZXh0ICkge1xuICAgICAgICBpZiAoICFibG9jay5tYXRjaCggL14+L20gKSApXG4gICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcblxuICAgICAgICB2YXIganNvbm1sID0gW107XG5cbiAgICAgICAgLy8gc2VwYXJhdGUgb3V0IHRoZSBsZWFkaW5nIGFidXR0aW5nIGJsb2NrLCBpZiBhbnkuIEkuZS4gaW4gdGhpcyBjYXNlOlxuICAgICAgICAvL1xuICAgICAgICAvLyAgYVxuICAgICAgICAvLyAgPiBiXG4gICAgICAgIC8vXG4gICAgICAgIGlmICggYmxvY2tbIDAgXSAhPT0gXCI+XCIgKSB7XG4gICAgICAgICAgdmFyIGxpbmVzID0gYmxvY2suc3BsaXQoIC9cXG4vICksXG4gICAgICAgICAgICAgIHByZXYgPSBbXSxcbiAgICAgICAgICAgICAgbGluZV9ubyA9IGJsb2NrLmxpbmVOdW1iZXI7XG5cbiAgICAgICAgICAvLyBrZWVwIHNoaWZ0aW5nIGxpbmVzIHVudGlsIHlvdSBmaW5kIGEgY3JvdGNoZXRcbiAgICAgICAgICB3aGlsZSAoIGxpbmVzLmxlbmd0aCAmJiBsaW5lc1sgMCBdWyAwIF0gIT09IFwiPlwiICkge1xuICAgICAgICAgICAgcHJldi5wdXNoKCBsaW5lcy5zaGlmdCgpICk7XG4gICAgICAgICAgICBsaW5lX25vKys7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIGFidXR0aW5nID0gbWtfYmxvY2soIHByZXYuam9pbiggXCJcXG5cIiApLCBcIlxcblwiLCBibG9jay5saW5lTnVtYmVyICk7XG4gICAgICAgICAganNvbm1sLnB1c2guYXBwbHkoIGpzb25tbCwgdGhpcy5wcm9jZXNzQmxvY2soIGFidXR0aW5nLCBbXSApICk7XG4gICAgICAgICAgLy8gcmVhc3NlbWJsZSBuZXcgYmxvY2sgb2YganVzdCBibG9jayBxdW90ZXMhXG4gICAgICAgICAgYmxvY2sgPSBta19ibG9jayggbGluZXMuam9pbiggXCJcXG5cIiApLCBibG9jay50cmFpbGluZywgbGluZV9ubyApO1xuICAgICAgICB9XG5cblxuICAgICAgICAvLyBpZiB0aGUgbmV4dCBibG9jayBpcyBhbHNvIGEgYmxvY2txdW90ZSBtZXJnZSBpdCBpblxuICAgICAgICB3aGlsZSAoIG5leHQubGVuZ3RoICYmIG5leHRbIDAgXVsgMCBdID09PSBcIj5cIiApIHtcbiAgICAgICAgICB2YXIgYiA9IG5leHQuc2hpZnQoKTtcbiAgICAgICAgICBibG9jayA9IG1rX2Jsb2NrKCBibG9jayArIGJsb2NrLnRyYWlsaW5nICsgYiwgYi50cmFpbGluZywgYmxvY2subGluZU51bWJlciApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RyaXAgb2ZmIHRoZSBsZWFkaW5nIFwiPiBcIiBhbmQgcmUtcHJvY2VzcyBhcyBhIGJsb2NrLlxuICAgICAgICB2YXIgaW5wdXQgPSBibG9jay5yZXBsYWNlKCAvXj4gPy9nbSwgXCJcIiApLFxuICAgICAgICAgICAgb2xkX3RyZWUgPSB0aGlzLnRyZWUsXG4gICAgICAgICAgICBwcm9jZXNzZWRCbG9jayA9IHRoaXMudG9UcmVlKCBpbnB1dCwgWyBcImJsb2NrcXVvdGVcIiBdICksXG4gICAgICAgICAgICBhdHRyID0gZXh0cmFjdF9hdHRyKCBwcm9jZXNzZWRCbG9jayApO1xuXG4gICAgICAgIC8vIElmIGFueSBsaW5rIHJlZmVyZW5jZXMgd2VyZSBmb3VuZCBnZXQgcmlkIG9mIHRoZW1cbiAgICAgICAgaWYgKCBhdHRyICYmIGF0dHIucmVmZXJlbmNlcyApIHtcbiAgICAgICAgICBkZWxldGUgYXR0ci5yZWZlcmVuY2VzO1xuICAgICAgICAgIC8vIEFuZCB0aGVuIHJlbW92ZSB0aGUgYXR0cmlidXRlIG9iamVjdCBpZiBpdCdzIGVtcHR5XG4gICAgICAgICAgaWYgKCBpc0VtcHR5KCBhdHRyICkgKVxuICAgICAgICAgICAgcHJvY2Vzc2VkQmxvY2suc3BsaWNlKCAxLCAxICk7XG4gICAgICAgIH1cblxuICAgICAgICBqc29ubWwucHVzaCggcHJvY2Vzc2VkQmxvY2sgKTtcbiAgICAgICAgcmV0dXJuIGpzb25tbDtcbiAgICAgIH0sXG5cbiAgICAgIHJlZmVyZW5jZURlZm46IGZ1bmN0aW9uIHJlZmVyZW5jZURlZm4oIGJsb2NrLCBuZXh0KSB7XG4gICAgICAgIHZhciByZSA9IC9eXFxzKlxcWyguKj8pXFxdOlxccyooXFxTKykoPzpcXHMrKD86KFsnXCJdKSguKj8pXFwzfFxcKCguKj8pXFwpKSk/XFxuPy87XG4gICAgICAgIC8vIGludGVyZXN0aW5nIG1hdGNoZXMgYXJlIFsgLCByZWZfaWQsIHVybCwgLCB0aXRsZSwgdGl0bGUgXVxuXG4gICAgICAgIGlmICggIWJsb2NrLm1hdGNoKHJlKSApXG4gICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcblxuICAgICAgICAvLyBtYWtlIGFuIGF0dHJpYnV0ZSBub2RlIGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAgICAgICAgaWYgKCAhZXh0cmFjdF9hdHRyKCB0aGlzLnRyZWUgKSApXG4gICAgICAgICAgdGhpcy50cmVlLnNwbGljZSggMSwgMCwge30gKTtcblxuICAgICAgICB2YXIgYXR0cnMgPSBleHRyYWN0X2F0dHIoIHRoaXMudHJlZSApO1xuXG4gICAgICAgIC8vIG1ha2UgYSByZWZlcmVuY2VzIGhhc2ggaWYgaXQgZG9lc24ndCBleGlzdFxuICAgICAgICBpZiAoIGF0dHJzLnJlZmVyZW5jZXMgPT09IHVuZGVmaW5lZCApXG4gICAgICAgICAgYXR0cnMucmVmZXJlbmNlcyA9IHt9O1xuXG4gICAgICAgIHZhciBiID0gdGhpcy5sb29wX3JlX292ZXJfYmxvY2socmUsIGJsb2NrLCBmdW5jdGlvbiggbSApIHtcblxuICAgICAgICAgIGlmICggbVsyXSAmJiBtWzJdWzBdID09PSBcIjxcIiAmJiBtWzJdW21bMl0ubGVuZ3RoLTFdID09PSBcIj5cIiApXG4gICAgICAgICAgICBtWzJdID0gbVsyXS5zdWJzdHJpbmcoIDEsIG1bMl0ubGVuZ3RoIC0gMSApO1xuXG4gICAgICAgICAgdmFyIHJlZiA9IGF0dHJzLnJlZmVyZW5jZXNbIG1bMV0udG9Mb3dlckNhc2UoKSBdID0ge1xuICAgICAgICAgICAgaHJlZjogbVsyXVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBpZiAoIG1bNF0gIT09IHVuZGVmaW5lZCApXG4gICAgICAgICAgICByZWYudGl0bGUgPSBtWzRdO1xuICAgICAgICAgIGVsc2UgaWYgKCBtWzVdICE9PSB1bmRlZmluZWQgKVxuICAgICAgICAgICAgcmVmLnRpdGxlID0gbVs1XTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgaWYgKCBiLmxlbmd0aCApXG4gICAgICAgICAgbmV4dC51bnNoaWZ0KCBta19ibG9jayggYiwgYmxvY2sudHJhaWxpbmcgKSApO1xuXG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH0sXG5cbiAgICAgIHBhcmE6IGZ1bmN0aW9uIHBhcmEoIGJsb2NrICkge1xuICAgICAgICAvLyBldmVyeXRoaW5nJ3MgYSBwYXJhIVxuICAgICAgICByZXR1cm4gWyBbXCJwYXJhXCJdLmNvbmNhdCggdGhpcy5wcm9jZXNzSW5saW5lKCBibG9jayApICkgXTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgaW5saW5lOiB7XG5cbiAgICAgIF9fb25lRWxlbWVudF9fOiBmdW5jdGlvbiBvbmVFbGVtZW50KCB0ZXh0LCBwYXR0ZXJuc19vcl9yZSwgcHJldmlvdXNfbm9kZXMgKSB7XG4gICAgICAgIHZhciBtLFxuICAgICAgICAgICAgcmVzO1xuXG4gICAgICAgIHBhdHRlcm5zX29yX3JlID0gcGF0dGVybnNfb3JfcmUgfHwgdGhpcy5kaWFsZWN0LmlubGluZS5fX3BhdHRlcm5zX187XG4gICAgICAgIHZhciByZSA9IG5ldyBSZWdFeHAoIFwiKFtcXFxcc1xcXFxTXSo/KShcIiArIChwYXR0ZXJuc19vcl9yZS5zb3VyY2UgfHwgcGF0dGVybnNfb3JfcmUpICsgXCIpXCIgKTtcblxuICAgICAgICBtID0gcmUuZXhlYyggdGV4dCApO1xuICAgICAgICBpZiAoIW0pIHtcbiAgICAgICAgICAvLyBKdXN0IGJvcmluZyB0ZXh0XG4gICAgICAgICAgcmV0dXJuIFsgdGV4dC5sZW5ndGgsIHRleHQgXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICggbVsxXSApIHtcbiAgICAgICAgICAvLyBTb21lIHVuLWludGVyZXN0aW5nIHRleHQgbWF0Y2hlZC4gUmV0dXJuIHRoYXQgZmlyc3RcbiAgICAgICAgICByZXR1cm4gWyBtWzFdLmxlbmd0aCwgbVsxXSBdO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlcztcbiAgICAgICAgaWYgKCBtWzJdIGluIHRoaXMuZGlhbGVjdC5pbmxpbmUgKSB7XG4gICAgICAgICAgcmVzID0gdGhpcy5kaWFsZWN0LmlubGluZVsgbVsyXSBdLmNhbGwoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAgICAgICAgIHRleHQuc3Vic3RyKCBtLmluZGV4ICksIG0sIHByZXZpb3VzX25vZGVzIHx8IFtdICk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRGVmYXVsdCBmb3Igbm93IHRvIG1ha2UgZGV2IGVhc2llci4ganVzdCBzbHVycCBzcGVjaWFsIGFuZCBvdXRwdXQgaXQuXG4gICAgICAgIHJlcyA9IHJlcyB8fCBbIG1bMl0ubGVuZ3RoLCBtWzJdIF07XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgICB9LFxuXG4gICAgICBfX2NhbGxfXzogZnVuY3Rpb24gaW5saW5lKCB0ZXh0LCBwYXR0ZXJucyApIHtcblxuICAgICAgICB2YXIgb3V0ID0gW10sXG4gICAgICAgICAgICByZXM7XG5cbiAgICAgICAgZnVuY3Rpb24gYWRkKHgpIHtcbiAgICAgICAgICAvL0Q6c2VsZi5kZWJ1ZyhcIiAgYWRkaW5nIG91dHB1dFwiLCB1bmV2YWwoeCkpO1xuICAgICAgICAgIGlmICggdHlwZW9mIHggPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIG91dFtvdXQubGVuZ3RoLTFdID09PSBcInN0cmluZ1wiIClcbiAgICAgICAgICAgIG91dFsgb3V0Lmxlbmd0aC0xIF0gKz0geDtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBvdXQucHVzaCh4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlICggdGV4dC5sZW5ndGggPiAwICkge1xuICAgICAgICAgIHJlcyA9IHRoaXMuZGlhbGVjdC5pbmxpbmUuX19vbmVFbGVtZW50X18uY2FsbCh0aGlzLCB0ZXh0LCBwYXR0ZXJucywgb3V0ICk7XG4gICAgICAgICAgdGV4dCA9IHRleHQuc3Vic3RyKCByZXMuc2hpZnQoKSApO1xuICAgICAgICAgIGZvckVhY2gocmVzLCBhZGQgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgICB9LFxuXG4gICAgICAvLyBUaGVzZSBjaGFyYWN0ZXJzIGFyZSBpbnRlcnN0aW5nIGVsc2V3aGVyZSwgc28gaGF2ZSBydWxlcyBmb3IgdGhlbSBzbyB0aGF0XG4gICAgICAvLyBjaHVua3Mgb2YgcGxhaW4gdGV4dCBibG9ja3MgZG9uJ3QgaW5jbHVkZSB0aGVtXG4gICAgICBcIl1cIjogZnVuY3Rpb24gKCkge30sXG4gICAgICBcIn1cIjogZnVuY3Rpb24gKCkge30sXG5cbiAgICAgIF9fZXNjYXBlX18gOiAvXlxcXFxbXFxcXGBcXCpfe31cXFtcXF0oKSNcXCsuIVxcLV0vLFxuXG4gICAgICBcIlxcXFxcIjogZnVuY3Rpb24gZXNjYXBlZCggdGV4dCApIHtcbiAgICAgICAgLy8gWyBsZW5ndGggb2YgaW5wdXQgcHJvY2Vzc2VkLCBub2RlL2NoaWxkcmVuIHRvIGFkZC4uLiBdXG4gICAgICAgIC8vIE9ubHkgZXNhY2FwZTogXFwgYCAqIF8geyB9IFsgXSAoICkgIyAqICsgLSAuICFcbiAgICAgICAgaWYgKCB0aGlzLmRpYWxlY3QuaW5saW5lLl9fZXNjYXBlX18uZXhlYyggdGV4dCApIClcbiAgICAgICAgICByZXR1cm4gWyAyLCB0ZXh0LmNoYXJBdCggMSApIF07XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAvLyBOb3QgYW4gZXNhY3BlXG4gICAgICAgICAgcmV0dXJuIFsgMSwgXCJcXFxcXCIgXTtcbiAgICAgIH0sXG5cbiAgICAgIFwiIVtcIjogZnVuY3Rpb24gaW1hZ2UoIHRleHQgKSB7XG5cbiAgICAgICAgLy8gVW5saWtlIGltYWdlcywgYWx0IHRleHQgaXMgcGxhaW4gdGV4dCBvbmx5LiBubyBvdGhlciBlbGVtZW50cyBhcmVcbiAgICAgICAgLy8gYWxsb3dlZCBpbiB0aGVyZVxuXG4gICAgICAgIC8vICFbQWx0IHRleHRdKC9wYXRoL3RvL2ltZy5qcGcgXCJPcHRpb25hbCB0aXRsZVwiKVxuICAgICAgICAvLyAgICAgIDEgICAgICAgICAgMiAgICAgICAgICAgIDMgICAgICAgNCAgICAgICAgIDwtLS0gY2FwdHVyZXNcbiAgICAgICAgdmFyIG0gPSB0ZXh0Lm1hdGNoKCAvXiFcXFsoLio/KVxcXVsgXFx0XSpcXChbIFxcdF0qKFteXCIpXSo/KSg/OlsgXFx0XSsoW1wiJ10pKC4qPylcXDMpP1sgXFx0XSpcXCkvICk7XG5cbiAgICAgICAgaWYgKCBtICkge1xuICAgICAgICAgIGlmICggbVsyXSAmJiBtWzJdWzBdID09PSBcIjxcIiAmJiBtWzJdW21bMl0ubGVuZ3RoLTFdID09PSBcIj5cIiApXG4gICAgICAgICAgICBtWzJdID0gbVsyXS5zdWJzdHJpbmcoIDEsIG1bMl0ubGVuZ3RoIC0gMSApO1xuXG4gICAgICAgICAgbVsyXSA9IHRoaXMuZGlhbGVjdC5pbmxpbmUuX19jYWxsX18uY2FsbCggdGhpcywgbVsyXSwgL1xcXFwvIClbMF07XG5cbiAgICAgICAgICB2YXIgYXR0cnMgPSB7IGFsdDogbVsxXSwgaHJlZjogbVsyXSB8fCBcIlwiIH07XG4gICAgICAgICAgaWYgKCBtWzRdICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICBhdHRycy50aXRsZSA9IG1bNF07XG5cbiAgICAgICAgICByZXR1cm4gWyBtWzBdLmxlbmd0aCwgWyBcImltZ1wiLCBhdHRycyBdIF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyAhW0FsdCB0ZXh0XVtpZF1cbiAgICAgICAgbSA9IHRleHQubWF0Y2goIC9eIVxcWyguKj8pXFxdWyBcXHRdKlxcWyguKj8pXFxdLyApO1xuXG4gICAgICAgIGlmICggbSApIHtcbiAgICAgICAgICAvLyBXZSBjYW4ndCBjaGVjayBpZiB0aGUgcmVmZXJlbmNlIGlzIGtub3duIGhlcmUgYXMgaXQgbGlrZWx5IHdvbnQgYmVcbiAgICAgICAgICAvLyBmb3VuZCB0aWxsIGFmdGVyLiBDaGVjayBpdCBpbiBtZCB0cmVlLT5obXRsIHRyZWUgY29udmVyc2lvblxuICAgICAgICAgIHJldHVybiBbIG1bMF0ubGVuZ3RoLCBbIFwiaW1nX3JlZlwiLCB7IGFsdDogbVsxXSwgcmVmOiBtWzJdLnRvTG93ZXJDYXNlKCksIG9yaWdpbmFsOiBtWzBdIH0gXSBdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSnVzdCBjb25zdW1lIHRoZSAnIVsnXG4gICAgICAgIHJldHVybiBbIDIsIFwiIVtcIiBdO1xuICAgICAgfSxcblxuICAgICAgXCJbXCI6IGZ1bmN0aW9uIGxpbmsoIHRleHQgKSB7XG5cbiAgICAgICAgdmFyIG9yaWcgPSBTdHJpbmcodGV4dCk7XG4gICAgICAgIC8vIElubGluZSBjb250ZW50IGlzIHBvc3NpYmxlIGluc2lkZSBgbGluayB0ZXh0YFxuICAgICAgICB2YXIgcmVzID0gaW5saW5lX3VudGlsX2NoYXIuY2FsbCggdGhpcywgdGV4dC5zdWJzdHIoMSksIFwiXVwiICk7XG5cbiAgICAgICAgLy8gTm8gY2xvc2luZyAnXScgZm91bmQuIEp1c3QgY29uc3VtZSB0aGUgW1xuICAgICAgICBpZiAoICFyZXMgKVxuICAgICAgICAgIHJldHVybiBbIDEsIFwiW1wiIF07XG5cbiAgICAgICAgdmFyIGNvbnN1bWVkID0gMSArIHJlc1sgMCBdLFxuICAgICAgICAgICAgY2hpbGRyZW4gPSByZXNbIDEgXSxcbiAgICAgICAgICAgIGxpbmssXG4gICAgICAgICAgICBhdHRycztcblxuICAgICAgICAvLyBBdCB0aGlzIHBvaW50IHRoZSBmaXJzdCBbLi4uXSBoYXMgYmVlbiBwYXJzZWQuIFNlZSB3aGF0IGZvbGxvd3MgdG8gZmluZFxuICAgICAgICAvLyBvdXQgd2hpY2gga2luZCBvZiBsaW5rIHdlIGFyZSAocmVmZXJlbmNlIG9yIGRpcmVjdCB1cmwpXG4gICAgICAgIHRleHQgPSB0ZXh0LnN1YnN0ciggY29uc3VtZWQgKTtcblxuICAgICAgICAvLyBbbGluayB0ZXh0XSgvcGF0aC90by9pbWcuanBnIFwiT3B0aW9uYWwgdGl0bGVcIilcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIDEgICAgICAgICAgICAyICAgICAgIDMgICAgICAgICA8LS0tIGNhcHR1cmVzXG4gICAgICAgIC8vIFRoaXMgd2lsbCBjYXB0dXJlIHVwIHRvIHRoZSBsYXN0IHBhcmVuIGluIHRoZSBibG9jay4gV2UgdGhlbiBwdWxsXG4gICAgICAgIC8vIGJhY2sgYmFzZWQgb24gaWYgdGhlcmUgYSBtYXRjaGluZyBvbmVzIGluIHRoZSB1cmxcbiAgICAgICAgLy8gICAgKFtoZXJlXSgvdXJsLyh0ZXN0KSlcbiAgICAgICAgLy8gVGhlIHBhcmVucyBoYXZlIHRvIGJlIGJhbGFuY2VkXG4gICAgICAgIHZhciBtID0gdGV4dC5tYXRjaCggL15cXHMqXFwoWyBcXHRdKihbXlwiJ10qKSg/OlsgXFx0XSsoW1wiJ10pKC4qPylcXDIpP1sgXFx0XSpcXCkvICk7XG4gICAgICAgIGlmICggbSApIHtcbiAgICAgICAgICB2YXIgdXJsID0gbVsxXTtcbiAgICAgICAgICBjb25zdW1lZCArPSBtWzBdLmxlbmd0aDtcblxuICAgICAgICAgIGlmICggdXJsICYmIHVybFswXSA9PT0gXCI8XCIgJiYgdXJsW3VybC5sZW5ndGgtMV0gPT09IFwiPlwiIClcbiAgICAgICAgICAgIHVybCA9IHVybC5zdWJzdHJpbmcoIDEsIHVybC5sZW5ndGggLSAxICk7XG5cbiAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIHRpdGxlIHdlIGRvbid0IGhhdmUgdG8gd29ycnkgYWJvdXQgcGFyZW5zIGluIHRoZSB1cmxcbiAgICAgICAgICBpZiAoICFtWzNdICkge1xuICAgICAgICAgICAgdmFyIG9wZW5fcGFyZW5zID0gMTsgLy8gT25lIG9wZW4gdGhhdCBpc24ndCBpbiB0aGUgY2FwdHVyZVxuICAgICAgICAgICAgZm9yICggdmFyIGxlbiA9IDA7IGxlbiA8IHVybC5sZW5ndGg7IGxlbisrICkge1xuICAgICAgICAgICAgICBzd2l0Y2ggKCB1cmxbbGVuXSApIHtcbiAgICAgICAgICAgICAgY2FzZSBcIihcIjpcbiAgICAgICAgICAgICAgICBvcGVuX3BhcmVucysrO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwiKVwiOlxuICAgICAgICAgICAgICAgIGlmICggLS1vcGVuX3BhcmVucyA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgY29uc3VtZWQgLT0gdXJsLmxlbmd0aCAtIGxlbjtcbiAgICAgICAgICAgICAgICAgIHVybCA9IHVybC5zdWJzdHJpbmcoMCwgbGVuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBQcm9jZXNzIGVzY2FwZXMgb25seVxuICAgICAgICAgIHVybCA9IHRoaXMuZGlhbGVjdC5pbmxpbmUuX19jYWxsX18uY2FsbCggdGhpcywgdXJsLCAvXFxcXC8gKVswXTtcblxuICAgICAgICAgIGF0dHJzID0geyBocmVmOiB1cmwgfHwgXCJcIiB9O1xuICAgICAgICAgIGlmICggbVszXSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgYXR0cnMudGl0bGUgPSBtWzNdO1xuXG4gICAgICAgICAgbGluayA9IFsgXCJsaW5rXCIsIGF0dHJzIF0uY29uY2F0KCBjaGlsZHJlbiApO1xuICAgICAgICAgIHJldHVybiBbIGNvbnN1bWVkLCBsaW5rIF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBbQWx0IHRleHRdW2lkXVxuICAgICAgICAvLyBbQWx0IHRleHRdIFtpZF1cbiAgICAgICAgbSA9IHRleHQubWF0Y2goIC9eXFxzKlxcWyguKj8pXFxdLyApO1xuXG4gICAgICAgIGlmICggbSApIHtcblxuICAgICAgICAgIGNvbnN1bWVkICs9IG1bIDAgXS5sZW5ndGg7XG5cbiAgICAgICAgICAvLyBbbGlua3NdW10gdXNlcyBsaW5rcyBhcyBpdHMgcmVmZXJlbmNlXG4gICAgICAgICAgYXR0cnMgPSB7IHJlZjogKCBtWyAxIF0gfHwgU3RyaW5nKGNoaWxkcmVuKSApLnRvTG93ZXJDYXNlKCksICBvcmlnaW5hbDogb3JpZy5zdWJzdHIoIDAsIGNvbnN1bWVkICkgfTtcblxuICAgICAgICAgIGxpbmsgPSBbIFwibGlua19yZWZcIiwgYXR0cnMgXS5jb25jYXQoIGNoaWxkcmVuICk7XG5cbiAgICAgICAgICAvLyBXZSBjYW4ndCBjaGVjayBpZiB0aGUgcmVmZXJlbmNlIGlzIGtub3duIGhlcmUgYXMgaXQgbGlrZWx5IHdvbnQgYmVcbiAgICAgICAgICAvLyBmb3VuZCB0aWxsIGFmdGVyLiBDaGVjayBpdCBpbiBtZCB0cmVlLT5obXRsIHRyZWUgY29udmVyc2lvbi5cbiAgICAgICAgICAvLyBTdG9yZSB0aGUgb3JpZ2luYWwgc28gdGhhdCBjb252ZXJzaW9uIGNhbiByZXZlcnQgaWYgdGhlIHJlZiBpc24ndCBmb3VuZC5cbiAgICAgICAgICByZXR1cm4gWyBjb25zdW1lZCwgbGluayBdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gW2lkXVxuICAgICAgICAvLyBPbmx5IGlmIGlkIGlzIHBsYWluIChubyBmb3JtYXR0aW5nLilcbiAgICAgICAgaWYgKCBjaGlsZHJlbi5sZW5ndGggPT09IDEgJiYgdHlwZW9mIGNoaWxkcmVuWzBdID09PSBcInN0cmluZ1wiICkge1xuXG4gICAgICAgICAgYXR0cnMgPSB7IHJlZjogY2hpbGRyZW5bMF0udG9Mb3dlckNhc2UoKSwgIG9yaWdpbmFsOiBvcmlnLnN1YnN0ciggMCwgY29uc3VtZWQgKSB9O1xuICAgICAgICAgIGxpbmsgPSBbIFwibGlua19yZWZcIiwgYXR0cnMsIGNoaWxkcmVuWzBdIF07XG4gICAgICAgICAgcmV0dXJuIFsgY29uc3VtZWQsIGxpbmsgXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEp1c3QgY29uc3VtZSB0aGUgXCJbXCJcbiAgICAgICAgcmV0dXJuIFsgMSwgXCJbXCIgXTtcbiAgICAgIH0sXG5cblxuICAgICAgXCI8XCI6IGZ1bmN0aW9uIGF1dG9MaW5rKCB0ZXh0ICkge1xuICAgICAgICB2YXIgbTtcblxuICAgICAgICBpZiAoICggbSA9IHRleHQubWF0Y2goIC9ePCg/OigoaHR0cHM/fGZ0cHxtYWlsdG8pOltePl0rKXwoLio/QC4qP1xcLlthLXpBLVpdKykpPi8gKSApICE9PSBudWxsICkge1xuICAgICAgICAgIGlmICggbVszXSApXG4gICAgICAgICAgICByZXR1cm4gWyBtWzBdLmxlbmd0aCwgWyBcImxpbmtcIiwgeyBocmVmOiBcIm1haWx0bzpcIiArIG1bM10gfSwgbVszXSBdIF07XG4gICAgICAgICAgZWxzZSBpZiAoIG1bMl0gPT09IFwibWFpbHRvXCIgKVxuICAgICAgICAgICAgcmV0dXJuIFsgbVswXS5sZW5ndGgsIFsgXCJsaW5rXCIsIHsgaHJlZjogbVsxXSB9LCBtWzFdLnN1YnN0cihcIm1haWx0bzpcIi5sZW5ndGggKSBdIF07XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIFsgbVswXS5sZW5ndGgsIFsgXCJsaW5rXCIsIHsgaHJlZjogbVsxXSB9LCBtWzFdIF0gXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBbIDEsIFwiPFwiIF07XG4gICAgICB9LFxuXG4gICAgICBcImBcIjogZnVuY3Rpb24gaW5saW5lQ29kZSggdGV4dCApIHtcbiAgICAgICAgLy8gSW5saW5lIGNvZGUgYmxvY2suIGFzIG1hbnkgYmFja3RpY2tzIGFzIHlvdSBsaWtlIHRvIHN0YXJ0IGl0XG4gICAgICAgIC8vIEFsd2F5cyBza2lwIG92ZXIgdGhlIG9wZW5pbmcgdGlja3MuXG4gICAgICAgIHZhciBtID0gdGV4dC5tYXRjaCggLyhgKykoKFtcXHNcXFNdKj8pXFwxKS8gKTtcblxuICAgICAgICBpZiAoIG0gJiYgbVsyXSApXG4gICAgICAgICAgcmV0dXJuIFsgbVsxXS5sZW5ndGggKyBtWzJdLmxlbmd0aCwgWyBcImlubGluZWNvZGVcIiwgbVszXSBdIF07XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIC8vIFRPRE86IE5vIG1hdGNoaW5nIGVuZCBjb2RlIGZvdW5kIC0gd2FybiFcbiAgICAgICAgICByZXR1cm4gWyAxLCBcImBcIiBdO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBcIiAgXFxuXCI6IGZ1bmN0aW9uIGxpbmVCcmVhaygpIHtcbiAgICAgICAgcmV0dXJuIFsgMywgWyBcImxpbmVicmVha1wiIF0gXTtcbiAgICAgIH1cblxuICAgIH1cbiAgfTtcblxuICAvLyBNZXRhIEhlbHBlci9nZW5lcmF0b3IgbWV0aG9kIGZvciBlbSBhbmQgc3Ryb25nIGhhbmRsaW5nXG4gIGZ1bmN0aW9uIHN0cm9uZ19lbSggdGFnLCBtZCApIHtcblxuICAgIHZhciBzdGF0ZV9zbG90ID0gdGFnICsgXCJfc3RhdGVcIixcbiAgICAgICAgb3RoZXJfc2xvdCA9IHRhZyA9PT0gXCJzdHJvbmdcIiA/IFwiZW1fc3RhdGVcIiA6IFwic3Ryb25nX3N0YXRlXCI7XG5cbiAgICBmdW5jdGlvbiBDbG9zZVRhZyhsZW4pIHtcbiAgICAgIHRoaXMubGVuX2FmdGVyID0gbGVuO1xuICAgICAgdGhpcy5uYW1lID0gXCJjbG9zZV9cIiArIG1kO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiAoIHRleHQgKSB7XG5cbiAgICAgIGlmICggdGhpc1tzdGF0ZV9zbG90XVswXSA9PT0gbWQgKSB7XG4gICAgICAgIC8vIE1vc3QgcmVjZW50IGVtIGlzIG9mIHRoaXMgdHlwZVxuICAgICAgICAvL0Q6dGhpcy5kZWJ1ZyhcImNsb3NpbmdcIiwgbWQpO1xuICAgICAgICB0aGlzW3N0YXRlX3Nsb3RdLnNoaWZ0KCk7XG5cbiAgICAgICAgLy8gXCJDb25zdW1lXCIgZXZlcnl0aGluZyB0byBnbyBiYWNrIHRvIHRoZSByZWNydXNpb24gaW4gdGhlIGVsc2UtYmxvY2sgYmVsb3dcbiAgICAgICAgcmV0dXJuWyB0ZXh0Lmxlbmd0aCwgbmV3IENsb3NlVGFnKHRleHQubGVuZ3RoLW1kLmxlbmd0aCkgXTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAvLyBTdG9yZSBhIGNsb25lIG9mIHRoZSBlbS9zdHJvbmcgc3RhdGVzXG4gICAgICAgIHZhciBvdGhlciA9IHRoaXNbb3RoZXJfc2xvdF0uc2xpY2UoKSxcbiAgICAgICAgICAgIHN0YXRlID0gdGhpc1tzdGF0ZV9zbG90XS5zbGljZSgpO1xuXG4gICAgICAgIHRoaXNbc3RhdGVfc2xvdF0udW5zaGlmdChtZCk7XG5cbiAgICAgICAgLy9EOnRoaXMuZGVidWdfaW5kZW50ICs9IFwiICBcIjtcblxuICAgICAgICAvLyBSZWN1cnNlXG4gICAgICAgIHZhciByZXMgPSB0aGlzLnByb2Nlc3NJbmxpbmUoIHRleHQuc3Vic3RyKCBtZC5sZW5ndGggKSApO1xuICAgICAgICAvL0Q6dGhpcy5kZWJ1Z19pbmRlbnQgPSB0aGlzLmRlYnVnX2luZGVudC5zdWJzdHIoMik7XG5cbiAgICAgICAgdmFyIGxhc3QgPSByZXNbcmVzLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIC8vRDp0aGlzLmRlYnVnKFwicHJvY2Vzc0lubGluZSBmcm9tXCIsIHRhZyArIFwiOiBcIiwgdW5ldmFsKCByZXMgKSApO1xuXG4gICAgICAgIHZhciBjaGVjayA9IHRoaXNbc3RhdGVfc2xvdF0uc2hpZnQoKTtcbiAgICAgICAgaWYgKCBsYXN0IGluc3RhbmNlb2YgQ2xvc2VUYWcgKSB7XG4gICAgICAgICAgcmVzLnBvcCgpO1xuICAgICAgICAgIC8vIFdlIG1hdGNoZWQhIEh1enphaC5cbiAgICAgICAgICB2YXIgY29uc3VtZWQgPSB0ZXh0Lmxlbmd0aCAtIGxhc3QubGVuX2FmdGVyO1xuICAgICAgICAgIHJldHVybiBbIGNvbnN1bWVkLCBbIHRhZyBdLmNvbmNhdChyZXMpIF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgLy8gUmVzdG9yZSB0aGUgc3RhdGUgb2YgdGhlIG90aGVyIGtpbmQuIFdlIG1pZ2h0IGhhdmUgbWlzdGFrZW5seSBjbG9zZWQgaXQuXG4gICAgICAgICAgdGhpc1tvdGhlcl9zbG90XSA9IG90aGVyO1xuICAgICAgICAgIHRoaXNbc3RhdGVfc2xvdF0gPSBzdGF0ZTtcblxuICAgICAgICAgIC8vIFdlIGNhbid0IHJldXNlIHRoZSBwcm9jZXNzZWQgcmVzdWx0IGFzIGl0IGNvdWxkIGhhdmUgd3JvbmcgcGFyc2luZyBjb250ZXh0cyBpbiBpdC5cbiAgICAgICAgICByZXR1cm4gWyBtZC5sZW5ndGgsIG1kIF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9OyAvLyBFbmQgcmV0dXJuZWQgZnVuY3Rpb25cbiAgfVxuXG4gIEdydWJlci5pbmxpbmVbXCIqKlwiXSA9IHN0cm9uZ19lbShcInN0cm9uZ1wiLCBcIioqXCIpO1xuICBHcnViZXIuaW5saW5lW1wiX19cIl0gPSBzdHJvbmdfZW0oXCJzdHJvbmdcIiwgXCJfX1wiKTtcbiAgR3J1YmVyLmlubGluZVtcIipcIl0gID0gc3Ryb25nX2VtKFwiZW1cIiwgXCIqXCIpO1xuICBHcnViZXIuaW5saW5lW1wiX1wiXSAgPSBzdHJvbmdfZW0oXCJlbVwiLCBcIl9cIik7XG5cbiAgTWFya2Rvd24uZGlhbGVjdHMuR3J1YmVyID0gR3J1YmVyO1xuICBNYXJrZG93bi5idWlsZEJsb2NrT3JkZXIgKCBNYXJrZG93bi5kaWFsZWN0cy5HcnViZXIuYmxvY2sgKTtcbiAgTWFya2Rvd24uYnVpbGRJbmxpbmVQYXR0ZXJucyggTWFya2Rvd24uZGlhbGVjdHMuR3J1YmVyLmlubGluZSApO1xuXG5cblxuICB2YXIgTWFydWt1ID0gRGlhbGVjdEhlbHBlcnMuc3ViY2xhc3NEaWFsZWN0KCBHcnViZXIgKSxcbiAgICAgIGV4dHJhY3RfYXR0ciA9IE1hcmtkb3duSGVscGVycy5leHRyYWN0X2F0dHIsXG4gICAgICBmb3JFYWNoID0gTWFya2Rvd25IZWxwZXJzLmZvckVhY2g7XG5cbiAgTWFydWt1LnByb2Nlc3NNZXRhSGFzaCA9IGZ1bmN0aW9uIHByb2Nlc3NNZXRhSGFzaCggbWV0YV9zdHJpbmcgKSB7XG4gICAgdmFyIG1ldGEgPSBzcGxpdF9tZXRhX2hhc2goIG1ldGFfc3RyaW5nICksXG4gICAgICAgIGF0dHIgPSB7fTtcblxuICAgIGZvciAoIHZhciBpID0gMDsgaSA8IG1ldGEubGVuZ3RoOyArK2kgKSB7XG4gICAgICAvLyBpZDogI2Zvb1xuICAgICAgaWYgKCAvXiMvLnRlc3QoIG1ldGFbIGkgXSApIClcbiAgICAgICAgYXR0ci5pZCA9IG1ldGFbIGkgXS5zdWJzdHJpbmcoIDEgKTtcbiAgICAgIC8vIGNsYXNzOiAuZm9vXG4gICAgICBlbHNlIGlmICggL15cXC4vLnRlc3QoIG1ldGFbIGkgXSApICkge1xuICAgICAgICAvLyBpZiBjbGFzcyBhbHJlYWR5IGV4aXN0cywgYXBwZW5kIHRoZSBuZXcgb25lXG4gICAgICAgIGlmICggYXR0cltcImNsYXNzXCJdIClcbiAgICAgICAgICBhdHRyW1wiY2xhc3NcIl0gPSBhdHRyW1wiY2xhc3NcIl0gKyBtZXRhWyBpIF0ucmVwbGFjZSggLy4vLCBcIiBcIiApO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgYXR0cltcImNsYXNzXCJdID0gbWV0YVsgaSBdLnN1YnN0cmluZyggMSApO1xuICAgICAgfVxuICAgICAgLy8gYXR0cmlidXRlOiBmb289YmFyXG4gICAgICBlbHNlIGlmICggL1xcPS8udGVzdCggbWV0YVsgaSBdICkgKSB7XG4gICAgICAgIHZhciBzID0gbWV0YVsgaSBdLnNwbGl0KCAvXFw9LyApO1xuICAgICAgICBhdHRyWyBzWyAwIF0gXSA9IHNbIDEgXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYXR0cjtcbiAgfTtcblxuICBmdW5jdGlvbiBzcGxpdF9tZXRhX2hhc2goIG1ldGFfc3RyaW5nICkge1xuICAgIHZhciBtZXRhID0gbWV0YV9zdHJpbmcuc3BsaXQoIFwiXCIgKSxcbiAgICAgICAgcGFydHMgPSBbIFwiXCIgXSxcbiAgICAgICAgaW5fcXVvdGVzID0gZmFsc2U7XG5cbiAgICB3aGlsZSAoIG1ldGEubGVuZ3RoICkge1xuICAgICAgdmFyIGxldHRlciA9IG1ldGEuc2hpZnQoKTtcbiAgICAgIHN3aXRjaCAoIGxldHRlciApIHtcbiAgICAgIGNhc2UgXCIgXCIgOlxuICAgICAgICAvLyBpZiB3ZSdyZSBpbiBhIHF1b3RlZCBzZWN0aW9uLCBrZWVwIGl0XG4gICAgICAgIGlmICggaW5fcXVvdGVzIClcbiAgICAgICAgICBwYXJ0c1sgcGFydHMubGVuZ3RoIC0gMSBdICs9IGxldHRlcjtcbiAgICAgICAgLy8gb3RoZXJ3aXNlIG1ha2UgYSBuZXcgcGFydFxuICAgICAgICBlbHNlXG4gICAgICAgICAgcGFydHMucHVzaCggXCJcIiApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCInXCIgOlxuICAgICAgY2FzZSAnXCInIDpcbiAgICAgICAgLy8gcmV2ZXJzZSB0aGUgcXVvdGVzIGFuZCBtb3ZlIHN0cmFpZ2h0IG9uXG4gICAgICAgIGluX3F1b3RlcyA9ICFpbl9xdW90ZXM7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIlxcXFxcIiA6XG4gICAgICAgIC8vIHNoaWZ0IG9mZiB0aGUgbmV4dCBsZXR0ZXIgdG8gYmUgdXNlZCBzdHJhaWdodCBhd2F5LlxuICAgICAgICAvLyBpdCB3YXMgZXNjYXBlZCBzbyB3ZSdsbCBrZWVwIGl0IHdoYXRldmVyIGl0IGlzXG4gICAgICAgIGxldHRlciA9IG1ldGEuc2hpZnQoKTtcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgZGVmYXVsdCA6XG4gICAgICAgIHBhcnRzWyBwYXJ0cy5sZW5ndGggLSAxIF0gKz0gbGV0dGVyO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcGFydHM7XG4gIH1cblxuICBNYXJ1a3UuYmxvY2suZG9jdW1lbnRfbWV0YSA9IGZ1bmN0aW9uIGRvY3VtZW50X21ldGEoIGJsb2NrICkge1xuICAgIC8vIHdlJ3JlIG9ubHkgaW50ZXJlc3RlZCBpbiB0aGUgZmlyc3QgYmxvY2tcbiAgICBpZiAoIGJsb2NrLmxpbmVOdW1iZXIgPiAxIClcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgICAvLyBkb2N1bWVudF9tZXRhIGJsb2NrcyBjb25zaXN0IG9mIG9uZSBvciBtb3JlIGxpbmVzIG9mIGBLZXk6IFZhbHVlXFxuYFxuICAgIGlmICggISBibG9jay5tYXRjaCggL14oPzpcXHcrOi4qXFxuKSpcXHcrOi4qJC8gKSApXG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuXG4gICAgLy8gbWFrZSBhbiBhdHRyaWJ1dGUgbm9kZSBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gICAgaWYgKCAhZXh0cmFjdF9hdHRyKCB0aGlzLnRyZWUgKSApXG4gICAgICB0aGlzLnRyZWUuc3BsaWNlKCAxLCAwLCB7fSApO1xuXG4gICAgdmFyIHBhaXJzID0gYmxvY2suc3BsaXQoIC9cXG4vICk7XG4gICAgZm9yICggdmFyIHAgaW4gcGFpcnMgKSB7XG4gICAgICB2YXIgbSA9IHBhaXJzWyBwIF0ubWF0Y2goIC8oXFx3Kyk6XFxzKiguKikkLyApLFxuICAgICAgICAgIGtleSA9IG1bIDEgXS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgIHZhbHVlID0gbVsgMiBdO1xuXG4gICAgICB0aGlzLnRyZWVbIDEgXVsga2V5IF0gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvLyBkb2N1bWVudF9tZXRhIHByb2R1Y2VzIG5vIGNvbnRlbnQhXG4gICAgcmV0dXJuIFtdO1xuICB9O1xuXG4gIE1hcnVrdS5ibG9jay5ibG9ja19tZXRhID0gZnVuY3Rpb24gYmxvY2tfbWV0YSggYmxvY2sgKSB7XG4gICAgLy8gY2hlY2sgaWYgdGhlIGxhc3QgbGluZSBvZiB0aGUgYmxvY2sgaXMgYW4gbWV0YSBoYXNoXG4gICAgdmFyIG0gPSBibG9jay5tYXRjaCggLyhefFxcbikgezAsM31cXHs6XFxzKigoPzpcXFxcXFx9fFteXFx9XSkqKVxccypcXH0kLyApO1xuICAgIGlmICggIW0gKVxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcblxuICAgIC8vIHByb2Nlc3MgdGhlIG1ldGEgaGFzaFxuICAgIHZhciBhdHRyID0gdGhpcy5kaWFsZWN0LnByb2Nlc3NNZXRhSGFzaCggbVsgMiBdICksXG4gICAgICAgIGhhc2g7XG5cbiAgICAvLyBpZiB3ZSBtYXRjaGVkIF4gdGhlbiB3ZSBuZWVkIHRvIGFwcGx5IG1ldGEgdG8gdGhlIHByZXZpb3VzIGJsb2NrXG4gICAgaWYgKCBtWyAxIF0gPT09IFwiXCIgKSB7XG4gICAgICB2YXIgbm9kZSA9IHRoaXMudHJlZVsgdGhpcy50cmVlLmxlbmd0aCAtIDEgXTtcbiAgICAgIGhhc2ggPSBleHRyYWN0X2F0dHIoIG5vZGUgKTtcblxuICAgICAgLy8gaWYgdGhlIG5vZGUgaXMgYSBzdHJpbmcgKHJhdGhlciB0aGFuIEpzb25NTCksIGJhaWxcbiAgICAgIGlmICggdHlwZW9mIG5vZGUgPT09IFwic3RyaW5nXCIgKVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuXG4gICAgICAvLyBjcmVhdGUgdGhlIGF0dHJpYnV0ZSBoYXNoIGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAgICAgIGlmICggIWhhc2ggKSB7XG4gICAgICAgIGhhc2ggPSB7fTtcbiAgICAgICAgbm9kZS5zcGxpY2UoIDEsIDAsIGhhc2ggKTtcbiAgICAgIH1cblxuICAgICAgLy8gYWRkIHRoZSBhdHRyaWJ1dGVzIGluXG4gICAgICBmb3IgKCB2YXIgYSBpbiBhdHRyIClcbiAgICAgICAgaGFzaFsgYSBdID0gYXR0clsgYSBdO1xuXG4gICAgICAvLyByZXR1cm4gbm90aGluZyBzbyB0aGUgbWV0YSBoYXNoIGlzIHJlbW92ZWRcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICAvLyBwdWxsIHRoZSBtZXRhIGhhc2ggb2ZmIHRoZSBibG9jayBhbmQgcHJvY2VzcyB3aGF0J3MgbGVmdFxuICAgIHZhciBiID0gYmxvY2sucmVwbGFjZSggL1xcbi4qJC8sIFwiXCIgKSxcbiAgICAgICAgcmVzdWx0ID0gdGhpcy5wcm9jZXNzQmxvY2soIGIsIFtdICk7XG5cbiAgICAvLyBnZXQgb3IgbWFrZSB0aGUgYXR0cmlidXRlcyBoYXNoXG4gICAgaGFzaCA9IGV4dHJhY3RfYXR0ciggcmVzdWx0WyAwIF0gKTtcbiAgICBpZiAoICFoYXNoICkge1xuICAgICAgaGFzaCA9IHt9O1xuICAgICAgcmVzdWx0WyAwIF0uc3BsaWNlKCAxLCAwLCBoYXNoICk7XG4gICAgfVxuXG4gICAgLy8gYXR0YWNoIHRoZSBhdHRyaWJ1dGVzIHRvIHRoZSBibG9ja1xuICAgIGZvciAoIHZhciBhIGluIGF0dHIgKVxuICAgICAgaGFzaFsgYSBdID0gYXR0clsgYSBdO1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICBNYXJ1a3UuYmxvY2suZGVmaW5pdGlvbl9saXN0ID0gZnVuY3Rpb24gZGVmaW5pdGlvbl9saXN0KCBibG9jaywgbmV4dCApIHtcbiAgICAvLyBvbmUgb3IgbW9yZSB0ZXJtcyBmb2xsb3dlZCBieSBvbmUgb3IgbW9yZSBkZWZpbml0aW9ucywgaW4gYSBzaW5nbGUgYmxvY2tcbiAgICB2YXIgdGlnaHQgPSAvXigoPzpbXlxcczpdLipcXG4pKyk6XFxzKyhbXFxzXFxTXSspJC8sXG4gICAgICAgIGxpc3QgPSBbIFwiZGxcIiBdLFxuICAgICAgICBpLCBtO1xuXG4gICAgLy8gc2VlIGlmIHdlJ3JlIGRlYWxpbmcgd2l0aCBhIHRpZ2h0IG9yIGxvb3NlIGJsb2NrXG4gICAgaWYgKCAoIG0gPSBibG9jay5tYXRjaCggdGlnaHQgKSApICkge1xuICAgICAgLy8gcHVsbCBzdWJzZXF1ZW50IHRpZ2h0IERMIGJsb2NrcyBvdXQgb2YgYG5leHRgXG4gICAgICB2YXIgYmxvY2tzID0gWyBibG9jayBdO1xuICAgICAgd2hpbGUgKCBuZXh0Lmxlbmd0aCAmJiB0aWdodC5leGVjKCBuZXh0WyAwIF0gKSApXG4gICAgICAgIGJsb2Nrcy5wdXNoKCBuZXh0LnNoaWZ0KCkgKTtcblxuICAgICAgZm9yICggdmFyIGIgPSAwOyBiIDwgYmxvY2tzLmxlbmd0aDsgKytiICkge1xuICAgICAgICB2YXIgbSA9IGJsb2Nrc1sgYiBdLm1hdGNoKCB0aWdodCApLFxuICAgICAgICAgICAgdGVybXMgPSBtWyAxIF0ucmVwbGFjZSggL1xcbiQvLCBcIlwiICkuc3BsaXQoIC9cXG4vICksXG4gICAgICAgICAgICBkZWZucyA9IG1bIDIgXS5zcGxpdCggL1xcbjpcXHMrLyApO1xuXG4gICAgICAgIC8vIHByaW50KCB1bmV2YWwoIG0gKSApO1xuXG4gICAgICAgIGZvciAoIGkgPSAwOyBpIDwgdGVybXMubGVuZ3RoOyArK2kgKVxuICAgICAgICAgIGxpc3QucHVzaCggWyBcImR0XCIsIHRlcm1zWyBpIF0gXSApO1xuXG4gICAgICAgIGZvciAoIGkgPSAwOyBpIDwgZGVmbnMubGVuZ3RoOyArK2kgKSB7XG4gICAgICAgICAgLy8gcnVuIGlubGluZSBwcm9jZXNzaW5nIG92ZXIgdGhlIGRlZmluaXRpb25cbiAgICAgICAgICBsaXN0LnB1c2goIFsgXCJkZFwiIF0uY29uY2F0KCB0aGlzLnByb2Nlc3NJbmxpbmUoIGRlZm5zWyBpIF0ucmVwbGFjZSggLyhcXG4pXFxzKy8sIFwiJDFcIiApICkgKSApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICByZXR1cm4gWyBsaXN0IF07XG4gIH07XG5cbiAgLy8gc3BsaXRzIG9uIHVuZXNjYXBlZCBpbnN0YW5jZXMgb2YgQGNoLiBJZiBAY2ggaXMgbm90IGEgY2hhcmFjdGVyIHRoZSByZXN1bHRcbiAgLy8gY2FuIGJlIHVucHJlZGljdGFibGVcblxuICBNYXJ1a3UuYmxvY2sudGFibGUgPSBmdW5jdGlvbiB0YWJsZSAoIGJsb2NrICkge1xuXG4gICAgdmFyIF9zcGxpdF9vbl91bmVzY2FwZWQgPSBmdW5jdGlvbiggcywgY2ggKSB7XG4gICAgICBjaCA9IGNoIHx8ICdcXFxccyc7XG4gICAgICBpZiAoIGNoLm1hdGNoKC9eW1xcXFx8XFxbXFxde30/Ki4rXiRdJC8pIClcbiAgICAgICAgY2ggPSAnXFxcXCcgKyBjaDtcbiAgICAgIHZhciByZXMgPSBbIF0sXG4gICAgICAgICAgciA9IG5ldyBSZWdFeHAoJ14oKD86XFxcXFxcXFwufFteXFxcXFxcXFwnICsgY2ggKyAnXSkqKScgKyBjaCArICcoLiopJyksXG4gICAgICAgICAgbTtcbiAgICAgIHdoaWxlICggKCBtID0gcy5tYXRjaCggciApICkgKSB7XG4gICAgICAgIHJlcy5wdXNoKCBtWzFdICk7XG4gICAgICAgIHMgPSBtWzJdO1xuICAgICAgfVxuICAgICAgcmVzLnB1c2gocyk7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH07XG5cbiAgICB2YXIgbGVhZGluZ19waXBlID0gL14gezAsM31cXHwoLispXFxuIHswLDN9XFx8XFxzKihbXFwtOl0rW1xcLXwgOl0qKVxcbigoPzpcXHMqXFx8LiooPzpcXG58JCkpKikoPz1cXG58JCkvLFxuICAgICAgICAvLyBmaW5kIGF0IGxlYXN0IGFuIHVuZXNjYXBlZCBwaXBlIGluIGVhY2ggbGluZVxuICAgICAgICBub19sZWFkaW5nX3BpcGUgPSAvXiB7MCwzfShcXFMoPzpcXFxcLnxbXlxcXFx8XSkqXFx8LiopXFxuIHswLDN9KFtcXC06XStcXHMqXFx8W1xcLXwgOl0qKVxcbigoPzooPzpcXFxcLnxbXlxcXFx8XSkqXFx8LiooPzpcXG58JCkpKikoPz1cXG58JCkvLFxuICAgICAgICBpLFxuICAgICAgICBtO1xuICAgIGlmICggKCBtID0gYmxvY2subWF0Y2goIGxlYWRpbmdfcGlwZSApICkgKSB7XG4gICAgICAvLyByZW1vdmUgbGVhZGluZyBwaXBlcyBpbiBjb250ZW50c1xuICAgICAgLy8gKGhlYWRlciBhbmQgaG9yaXpvbnRhbCBydWxlIGFscmVhZHkgaGF2ZSB0aGUgbGVhZGluZyBwaXBlIGxlZnQgb3V0KVxuICAgICAgbVszXSA9IG1bM10ucmVwbGFjZSgvXlxccypcXHwvZ20sICcnKTtcbiAgICB9IGVsc2UgaWYgKCAhICggbSA9IGJsb2NrLm1hdGNoKCBub19sZWFkaW5nX3BpcGUgKSApICkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICB2YXIgdGFibGUgPSBbIFwidGFibGVcIiwgWyBcInRoZWFkXCIsIFsgXCJ0clwiIF0gXSwgWyBcInRib2R5XCIgXSBdO1xuXG4gICAgLy8gcmVtb3ZlIHRyYWlsaW5nIHBpcGVzLCB0aGVuIHNwbGl0IG9uIHBpcGVzXG4gICAgLy8gKG5vIGVzY2FwZWQgcGlwZXMgYXJlIGFsbG93ZWQgaW4gaG9yaXpvbnRhbCBydWxlKVxuICAgIG1bMl0gPSBtWzJdLnJlcGxhY2UoL1xcfFxccyokLywgJycpLnNwbGl0KCd8Jyk7XG5cbiAgICAvLyBwcm9jZXNzIGFsaWdubWVudFxuICAgIHZhciBodG1sX2F0dHJzID0gWyBdO1xuICAgIGZvckVhY2ggKG1bMl0sIGZ1bmN0aW9uIChzKSB7XG4gICAgICBpZiAocy5tYXRjaCgvXlxccyotKzpcXHMqJC8pKVxuICAgICAgICBodG1sX2F0dHJzLnB1c2goe2FsaWduOiBcInJpZ2h0XCJ9KTtcbiAgICAgIGVsc2UgaWYgKHMubWF0Y2goL15cXHMqOi0rXFxzKiQvKSlcbiAgICAgICAgaHRtbF9hdHRycy5wdXNoKHthbGlnbjogXCJsZWZ0XCJ9KTtcbiAgICAgIGVsc2UgaWYgKHMubWF0Y2goL15cXHMqOi0rOlxccyokLykpXG4gICAgICAgIGh0bWxfYXR0cnMucHVzaCh7YWxpZ246IFwiY2VudGVyXCJ9KTtcbiAgICAgIGVsc2VcbiAgICAgICAgaHRtbF9hdHRycy5wdXNoKHt9KTtcbiAgICB9KTtcblxuICAgIC8vIG5vdyBmb3IgdGhlIGhlYWRlciwgYXZvaWQgZXNjYXBlZCBwaXBlc1xuICAgIG1bMV0gPSBfc3BsaXRfb25fdW5lc2NhcGVkKG1bMV0ucmVwbGFjZSgvXFx8XFxzKiQvLCAnJyksICd8Jyk7XG4gICAgZm9yIChpID0gMDsgaSA8IG1bMV0ubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRhYmxlWzFdWzFdLnB1c2goWyd0aCcsIGh0bWxfYXR0cnNbaV0gfHwge31dLmNvbmNhdChcbiAgICAgICAgdGhpcy5wcm9jZXNzSW5saW5lKG1bMV1baV0udHJpbSgpKSkpO1xuICAgIH1cblxuICAgIC8vIG5vdyBmb3IgYm9keSBjb250ZW50c1xuICAgIGZvckVhY2ggKG1bM10ucmVwbGFjZSgvXFx8XFxzKiQvbWcsICcnKS5zcGxpdCgnXFxuJyksIGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgIHZhciBodG1sX3JvdyA9IFsndHInXTtcbiAgICAgIHJvdyA9IF9zcGxpdF9vbl91bmVzY2FwZWQocm93LCAnfCcpO1xuICAgICAgZm9yIChpID0gMDsgaSA8IHJvdy5sZW5ndGg7IGkrKylcbiAgICAgICAgaHRtbF9yb3cucHVzaChbJ3RkJywgaHRtbF9hdHRyc1tpXSB8fCB7fV0uY29uY2F0KHRoaXMucHJvY2Vzc0lubGluZShyb3dbaV0udHJpbSgpKSkpO1xuICAgICAgdGFibGVbMl0ucHVzaChodG1sX3Jvdyk7XG4gICAgfSwgdGhpcyk7XG5cbiAgICByZXR1cm4gW3RhYmxlXTtcbiAgfTtcblxuICBNYXJ1a3UuaW5saW5lWyBcIns6XCIgXSA9IGZ1bmN0aW9uIGlubGluZV9tZXRhKCB0ZXh0LCBtYXRjaGVzLCBvdXQgKSB7XG4gICAgaWYgKCAhb3V0Lmxlbmd0aCApXG4gICAgICByZXR1cm4gWyAyLCBcIns6XCIgXTtcblxuICAgIC8vIGdldCB0aGUgcHJlY2VlZGluZyBlbGVtZW50XG4gICAgdmFyIGJlZm9yZSA9IG91dFsgb3V0Lmxlbmd0aCAtIDEgXTtcblxuICAgIGlmICggdHlwZW9mIGJlZm9yZSA9PT0gXCJzdHJpbmdcIiApXG4gICAgICByZXR1cm4gWyAyLCBcIns6XCIgXTtcblxuICAgIC8vIG1hdGNoIGEgbWV0YSBoYXNoXG4gICAgdmFyIG0gPSB0ZXh0Lm1hdGNoKCAvXlxcezpcXHMqKCg/OlxcXFxcXH18W15cXH1dKSopXFxzKlxcfS8gKTtcblxuICAgIC8vIG5vIG1hdGNoLCBmYWxzZSBhbGFybVxuICAgIGlmICggIW0gKVxuICAgICAgcmV0dXJuIFsgMiwgXCJ7OlwiIF07XG5cbiAgICAvLyBhdHRhY2ggdGhlIGF0dHJpYnV0ZXMgdG8gdGhlIHByZWNlZWRpbmcgZWxlbWVudFxuICAgIHZhciBtZXRhID0gdGhpcy5kaWFsZWN0LnByb2Nlc3NNZXRhSGFzaCggbVsgMSBdICksXG4gICAgICAgIGF0dHIgPSBleHRyYWN0X2F0dHIoIGJlZm9yZSApO1xuXG4gICAgaWYgKCAhYXR0ciApIHtcbiAgICAgIGF0dHIgPSB7fTtcbiAgICAgIGJlZm9yZS5zcGxpY2UoIDEsIDAsIGF0dHIgKTtcbiAgICB9XG5cbiAgICBmb3IgKCB2YXIgayBpbiBtZXRhIClcbiAgICAgIGF0dHJbIGsgXSA9IG1ldGFbIGsgXTtcblxuICAgIC8vIGN1dCBvdXQgdGhlIHN0cmluZyBhbmQgcmVwbGFjZSBpdCB3aXRoIG5vdGhpbmdcbiAgICByZXR1cm4gWyBtWyAwIF0ubGVuZ3RoLCBcIlwiIF07XG4gIH07XG5cblxuICBNYXJrZG93bi5kaWFsZWN0cy5NYXJ1a3UgPSBNYXJ1a3U7XG4gIE1hcmtkb3duLmRpYWxlY3RzLk1hcnVrdS5pbmxpbmUuX19lc2NhcGVfXyA9IC9eXFxcXFtcXFxcYFxcKl97fVxcW1xcXSgpI1xcKy4hXFwtfDpdLztcbiAgTWFya2Rvd24uYnVpbGRCbG9ja09yZGVyICggTWFya2Rvd24uZGlhbGVjdHMuTWFydWt1LmJsb2NrICk7XG4gIE1hcmtkb3duLmJ1aWxkSW5saW5lUGF0dGVybnMoIE1hcmtkb3duLmRpYWxlY3RzLk1hcnVrdS5pbmxpbmUgKTtcblxuXG4vLyBJbmNsdWRlIGFsbCBvdXIgZGVwbmRlbmNpZXMgYW5kO1xuICBleHBvc2UuTWFya2Rvd24gPSBNYXJrZG93bjtcbiAgZXhwb3NlLnBhcnNlID0gTWFya2Rvd24ucGFyc2U7XG4gIGV4cG9zZS50b0hUTUwgPSBNYXJrZG93bi50b0hUTUw7XG4gIGV4cG9zZS50b0hUTUxUcmVlID0gTWFya2Rvd24udG9IVE1MVHJlZTtcbiAgZXhwb3NlLnJlbmRlckpzb25NTCA9IE1hcmtkb3duLnJlbmRlckpzb25NTDtcblxufSkoZnVuY3Rpb24oKSB7XG4gIHdpbmRvdy5tYXJrZG93biA9IHt9O1xuICByZXR1cm4gd2luZG93Lm1hcmtkb3duO1xufSgpKTtcbiIsInZhciBCbG9nUG9zdCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJCbG9nUG9zdFwiLFxuICB0aXRsZTogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7IF9faHRtbDogdGhpcy5wcm9wcy50aXRsZSB9O1xuICB9LFxuICBzdWJ0aXRsZTogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7IF9faHRtbDogdGhpcy5wcm9wcy5zdWJ0aXRsZSB9O1xuICB9LFxuICBjb250ZW50OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHsgX19odG1sOiB0aGlzLnByb3BzLmNvbnRlbnQgfTtcbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhcnRpY2xlXCIsIG51bGwsIFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDFcIiwge2Rhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB0aGlzLnRpdGxlKCl9KSwgXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoMlwiLCB7ZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHRoaXMuc3VidGl0bGUoKX0pLCBcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3M6IFwiY29udGVudFwiLCBkYW5nZXJvdXNseVNldElubmVySFRNTDogdGhpcy5jb250ZW50KCl9KVxuICAgICAgKVxuICAgICk7XG4gIH1cbn0pO1xuXG52YXIgQmxvZ1Bvc3RzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiBcIkJsb2dQb3N0c1wiLFxuICByZW5kZXI6IGZ1bmN0aW9uICgpIHsgXG4gICAgcmV0dXJuIChcbiAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzczogXCJwb3N0c1wifSwgXG4gICAgICBcbiAgICAgICAgdGhpcy5wcm9wcy5wb3N0cy5tYXAoZnVuY3Rpb24gKHBvc3QpIHtcbiAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChCbG9nUG9zdCwge3RpdGxlOiBwb3N0LnRpdGxlLCBzdWJ0aXRsZTogcG9zdC5zdWJ0aXRsZSwgY29udGVudDogcG9zdC5jb250ZW50fSk7XG4gICAgICAgIH0pXG4gICAgICBcbiAgICApXG4gICAgKTtcbiAgfVxufSk7XG4iLCJ2YXIgcG9zdHNQYXRoID0gJ3Bvc3RzLmpzb24nO1xuXG4oZnVuY3Rpb24gKCkge1xuICBsb2FkUG9zdHMocG9zdHNQYXRoLCBmdW5jdGlvbiAoZXJyLCByZXN1bHQpIHtcbiAgICBSZWFjdC5yZW5kZXIoUmVhY3QuY3JlYXRlRWxlbWVudChCbG9nUG9zdHMsIHsgcG9zdHM6IHJlc3VsdC5tYXAobWFya2Rvd25Qb3N0T2JqZWN0KSB9KSwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpKTtcbiAgfSk7XG59KSgpO1xuXG5mdW5jdGlvbiBsb2FkUG9zdHMocGF0aCwgZG9uZSkge1xuICB2YXIgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgIGlmIChyZXF1ZXN0LnJlYWR5U3RhdGUgIT09IDQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDIwMCkgeyBcbiAgICAgIGRvbmUobnVsbCwgSlNPTi5wYXJzZShyZXF1ZXN0LnJlc3BvbnNlVGV4dCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb25lKEVycm9yKCdDYW5ub3QgZmV0Y2ggYmxvZyBwb3N0cycpKTtcbiAgICB9XG4gIH07XG5cbiAgcmVxdWVzdC5vcGVuKCdHRVQnLCBwYXRoKTtcbiAgcmVxdWVzdC5zZW5kKCk7XG59XG5cbmZ1bmN0aW9uIG1hcmtkb3duUG9zdE9iamVjdChwb3N0KSB7XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgZm9yICh2YXIgbmFtZSBpbiBwb3N0KSB7IFxuICAgIHJlc3VsdFtuYW1lXSA9IG1hcmtkb3duLnRvSFRNTChwb3N0W25hbWVdKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
